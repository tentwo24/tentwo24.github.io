<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>JS收官(二) | 拾贰</title><meta name="keywords" content="JavaScript"><meta name="author" content="拾贰"><meta name="copyright" content="拾贰"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="JS收官(二)"><meta name="application-name" content="JS收官(二)"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta property="og:type" content="article"><meta property="og:title" content="JS收官(二)"><meta property="og:url" content="http://example.com/2024/09/09/JS%E6%94%B6%E5%AE%98-%E4%BA%8C/index.html"><meta property="og:site_name" content="拾贰"><meta property="og:description" content="一、标准库1.包装类如果尝试着把原始类型（number、string、boolean）当做对象使用，JS会自动将其转换为对应包装类的实例 1234567891011121314151617&amp;#x2F;&amp;#x2F; 包装类var a &amp;#x3D; 1;a.toString() &amp;#x2F;&amp;#x2F; &amp;#x27;1&amp;#x27;Number &amp;#x2F;&amp;#x2F; N"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="https://s2.loli.net/2023/09/01/NzaWb31teHk5UuX.jpg"><meta property="article:author" content="拾贰"><meta property="article:tag"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://s2.loli.net/2023/09/01/NzaWb31teHk5UuX.jpg"><meta name="description" content="一、标准库1.包装类如果尝试着把原始类型（number、string、boolean）当做对象使用，JS会自动将其转换为对应包装类的实例 1234567891011121314151617&amp;#x2F;&amp;#x2F; 包装类var a &amp;#x3D; 1;a.toString() &amp;#x2F;&amp;#x2F; &amp;#x27;1&amp;#x27;Number &amp;#x2F;&amp;#x2F; N"><link rel="shortcut icon" href="/favicon.ico"><link rel="canonical" href="http://example.com/2024/09/09/JS%E6%94%B6%E5%AE%98-%E4%BA%8C/"><link rel="preconnect" href="//cdn.cbd.int"/><meta name="google-site-verification" content="xxx"/><meta name="baidu-site-verification" content="code-xxx"/><meta name="msvalidate.01" content="xxx"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  linkPageTop: undefined,
  peoplecanvas: {"enable":true,"img":"https://upload-bbs.miyoushe.com/upload/2023/09/03/125766904/ee23df8517f3c3e3efc4145658269c06_5714860933110284659.png"},
  postHeadAiDescription: {"enable":true,"gptName":"AnZhiYu","mode":"local","switchBtn":false,"btnLink":"https://afdian.net/item/886a79d4db6711eda42a52540025c377","randomNum":3,"basicWordCount":1000,"key":"xxxx","Referer":"https://xx.xx/"},
  diytitle: {"enable":true,"leaveTitle":"w(ﾟДﾟ)w 不要走！再看看嘛！","backTitle":"♪(^∇^*)欢迎肥来！"},
  LA51: undefined,
  greetingBox: undefined,
  twikooEnvId: '',
  commentBarrageConfig:undefined,
  root: '/',
  preloader: {"source":3},
  friends_vue_info: undefined,
  navMusic: true,
  mainTone: undefined,
  authorStatus: {"skills":["🤖️ 前端开发爱好者","🔍 分享与热心帮助","🔨 设计开发一条龙","🏃 脚踏实地行动派","🧱 团队小组发动机"]},
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简","rightMenuMsgToTraditionalChinese":"转为繁体","rightMenuMsgToSimplifiedChinese":"转为简体"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":330},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    simplehomepage: true,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"copy":true,"copyrightEbable":false,"limitCount":50,"languages":{"author":"作者: 拾贰","link":"链接: ","source":"来源: 拾贰","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。","copySuccess":"复制成功，复制和转载请标注本文地址"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#425AEF","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  shortcutKey: undefined,
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  configTitle: '拾贰',
  title: 'JS收官(二)',
  postAI: '',
  pageFillDescription: '一、标准库, 1.包装类, Number, String, 2.数学, 3.日期, 时间基础知识, 单位, GMT和UTC, Unix 时间戳, 程序中的时间处理, 日期API, 4.对象, 5.数组, 6.函数, 7.典型例题(部分), 二、WebAPI, 1.BOM, window, window.location, window.history, 2.DOM, 获取 dom, 创建 dom, 更改 dom 结构, dom 属性, dom 内容, dom 样式, 监听 dom 事件, 事件类型, 表单类事件, 鼠标类事件, 键盘事件, 注册事件, 事件处理函数, dom 进阶, 事件默认行为, dom 尺寸和位置, 事件传播机制, 三、技巧, 1.在循环中注册事件, 2.回调函数, 3.函数防抖, 4.正则表达式, 创建正则对象, 正则常用方法, 标识, 规则, 字符匹配规则, 连续的规则, 规则的重复（量词）, 练习, 5.浏览器的渲染流程, 解析HTML, 生成DOM树, 生成渲染树, 布局 layout x2F 重排 reflow, 重绘 repaint, 6.异常, 异常的分类, 捕获异常, 手动抛出异常, 练习, 7.断点调试一标准库包装类如果尝试着把原始类型当做对象使用会自动将其转换为对应包装类的实例包装类静态方法实例方法静态方法实例方法错误写法跟任意东西比较都是含义备注表示一个数学上并不存在的数字可以直接书写为判断传入的值是否是可以直接书写为因为中也有这个方法判断传入的值是否是整数把传入的值转换为整数形式返回可以直接书写为不是四舍五入把传入的值转换为小数形式返回可以直接书写为将当前数字保留指定位数的小数返回传入小数位数将当前数字转换为字符串返回传入进制含义备注根据编码值得到一个字符传入一个或多个编码值得到字符串的长度得到某个下标的字符编码传入下标判断当前字符串是否包含某个子串传入子串判断某个字符串在当前字符串中的第一个下标位置如果没有返回判断某个字符串在当前字符串中的最后一个下标位置如果没有返回判断某个字符串是否以指定的字符串结束传入一个字符串判断某个字符串是否以指定的字符串开始传入一个字符串将当前的字符串按照指定的字符在字符串开始位置填充到指定的位数返回填充后的字符串传入位数填充字符将当前的字符串按照指定的字符在字符串结束位置填充到指定的位数返回填充后的字符串传入位数填充字符把当前字符串按照某个字符串分割成一个字符串数组返回传入分隔符返回一个字符串在开始索引到结束索引之间的一个子集或从开始索引直到字符串的末尾的一个子集传入开始字符结束字符从字符串的两端删除空白字符返回新字符串无参数从字符串的开头删除空白字符返回新字符串无参数从字符串的末端删除空白字符返回新字符串无参数将调用该方法的字符串转为大写形式并返回无参数将调用该方法的字符串转为小写形式并返回无参数替换字符串中的第一个对应字符为新字符替换字符串中的所有对应字符为新字符数学含义备注得到圆周率求某个数绝对值传入一个数向上取整传入一个数向下取整传入一个数求一个数列中的最大值把数列依次传入求一个数列中的最小值把数列依次传入得到一个之间的随机小数无参无法取到返回四舍五入的结果传入一个数日期时间基础知识单位单位名称换算小时分钟秒毫秒纳秒和世界划分为个时区北京在东区格林威治在时区格林威治世界时太阳时精确到毫秒世界协调时以原子时间为计时标准精确到纳秒国际标准中已全面使用时间而不再使用时间和时间在文本表示格式上是一致的均为星期缩写日期月份年份时间例如另外标准规定建议使用以下方式表示时间例如都表示的是零时区的时间时间戳时间戳是系统最早提出的概念它将时间年月日凌晨作为起始时间到指定时间经过的秒数毫秒数程序中的时间处理程序对时间的计算存储务必使用时间或者时间戳时间戳都是零时区在和用户交互时将时间或时间戳转换为更加友好的文本思考下面的问题用户的生日是本地时间还是时间本地时间如果要比较两个日期的大小是比较本地时间还是比较时间时间如果要显示文章的发布日期是显示本地时间还是显示时间本地时间北京时间和格林威治两个时间哪个大哪个小北京时间换算为格林威治时间需要减个小时北京的时间戳为和格林威治的时间戳为它们的时间一样吗一样时间戳都是零时区一个中国用户注册时填写的生日是它出生的时间是多少时间戳是多少日期构造函数得到一个当前日期对象根据时间戳得到一个日期对象根据一个标准日期字符串得到一个日期对象根据年月日小时分钟秒毫秒得到一个日期对象里面为可选参数可不填给默认值含义备注得到当前时间戳无参得到年无参本地时间得到月无参本地时间范围得到日无参本地时间得到小时无参本地时间得到分钟无参本地时间得到秒无参本地时间得到毫秒无参本地时间得到日期本地的表示方式对象两者内容是相等的内存地址一样想建立一个新对象应该怎么做含义备注将多个对象的属性混合到一起后面覆盖前面获取一个对象的隐式原型设置一个对象的隐式原型创建一个新对象同时设置新对象的隐式原型数组含义备注把多个数组拼接成一个判断数组中是否包含某个值得到数组中某个值的第一个下标若不存在则返回得到数组中某个值的最后一个下标若不存在则返回把数组中每一项使用某个字符连接起来形成一个字符串返回向数组的末尾添加一项向数组的开头添加一项删除数组最后一项返回被删除的值删除数组第一项返回被删除的值删除修改插入任何位置的值将数组中的元素顺序颠倒对数组进行排序传入比较函数位置不变前者在前前者在后对数组进行切割排序随机排序数组克隆返回一个新数组转化伪数组为真数组当函数作为参数传递该函数称之为回调函数函数含义备注执行函数绑定参数列表以数组的形式传递执行函数绑定参数列表依次传递典型例题部分相关例题地址标准库数字和字符串拾贰码云开源中国标准库数字和字符串将格式转化为格式取出三个数字得到一个指定范围的随机整数全是整数得到一个指定长度的随机字符串字符串包含数字字母方法一从字符串中取个字符拼接到一起方法二获取一段随机数如然后转成进制小数点后面会变成数字字母的形式然后用截取小数点后的长度从数组中随机取出一项将日期格式转化为字符串将日期格式化为字符串日期对象格式化字符串年月日时分秒毫秒格式化后的字符串删除数组中的所有字符串为什么要有这一步因为删除某个字符串后下标会发生变化可能会出现问题数组去重最原始最有用一般不会踩坑判断下面的文件是否符合后缀名要求合法的后缀名补充斜杠分隔符可能是或的标准是其他是但是也认识写的时候要注意是转义符最好写成把转译为得到文件的后缀名判断后缀名是否合法合法二和标准库不同是浏览器提供的一套用于操作浏览器窗口和界面中包含两个部分浏览器模型提供和浏览器相关的操作文档模型提供和页面相关的操作提供了一系列的对象和函数提供和浏览器本身相关的操作全局对象含义备注打开一个新的浏览器窗口返回新窗口的对象关闭浏览器窗口只能关闭使用打开的浏览器窗口设置一个计时器在一段时间后自动执行某个函数定时器是异步的参数函数无参指向参数时间毫秒返回计时器的清除指定的计时器传入计时器的设置一个计时器每隔一段时间自动执行某个函数参数函数无参指向参数时间毫秒返回计时器的清除指定的计时器传入计时器的弹出提示框不同的操作系统外观有差异弹出确认框不同的操作系统外观有差异定时器开始停止提供地址栏的相关操作含义备注获取或设置页面当前地址设置地址回导致页面跳转获取或设置地址中的协议部分获取或设置地址中的主机名和端口号获取或设置地址中的主机名获取或设置地址中的端口号获取或设置地址中的路径部分获取或设置地址中的参数部分获取或设置地址中的部分刷新页面提供当前窗口历史记录的操作含义备注后退前进根据相对当前页面的偏移量进入指定的记录页在历史记录中添加一条记录页面不刷新替换当前记录页面不刷新是一个对象它对应到中的节点这种被称为文本节点获取是中的一个属性所以可以直接使用含义备注根据元素获取得到单个这里的指定是某个元素获取该元素里的根据元素名称获取得到的伪数组根据元素类样式获取得到的伪数组根据选择器获取得到第一个匹配的根据选择器获取得到所有匹配的伪数组获取元素获取获取获取的子元素得到的伪数组获取的子节点得到节点的伪数组关于节点对象点这里得到前一个兄弟元素得到后一个兄弟元素得到的父元素创建含义备注创建一个元素并返回传入元素名称更改结构这里是指更改文档树树含义备注从文档树中删除但是对象还在不是删除对象删除的某个子节点传入对象在的子节点中添加一个新节点到另一个节点之前添加一个新节点到的子节点末尾传入对象属性本节的属性是指元素的属性属性有两种标准属性元素本身拥有的属性例如元素的的的自定义属性元素标准中未定义的属性所有标准属性均可通过属性名得到其中布尔属性会被自动转换为路径类的属性会被转换为绝对路径标准属性始终都是存在的不管你是否有在元素中属性该属性由于和关键字重名因此需要使用所有的自定义属性均可通过下面的方式操作设置属性键值对获取属性值自定义属性和元素源码书写是对应的可以尝试获取元素的属性对比标准属性看看有什么不同取决于现在是否选中取决于是否有自定义属性没有则为有则与自定义属性相同如上则为内容含义备注获取或设置元素文本内容设置时会自动进行实体编码转换为文本获取或设置元素的内容样式在中有两种样式内联样式元素的属性中书写的样式计算样式最终样式元素最终计算出来的样式可以获取内联样式和计算样式但只能设置内联样式下面罗列了样式的常见操作获取元素的内联样式得到样式对象对象中的所有样式属性均可以被赋值赋值后即可应用样式到元素的中获取元素的计算样式得到一个样式对象该样式对象中的属性是只读的无法被重新赋值关于样式对象注意当给样式赋值为空字符串时相当于删除内联样式当给样式的赋值不合法时赋值语句无效不会报错的短横线命名法在属性名中表现为驼峰命名法如需写成练习题地址玩转练习题拾贰码云开源中国玩转练习题最好做下很有用监听事件监听事件可以描述为一句话某个发生了某件事之后我需要做某些处理某个监听谁某件事事件类型它发生了什么某些处理处理函数我要做什么下面是一段事件监听代码为注册点击事件当被点击时自动运行事件处理函数被点击了事件类型表单类事件事件名称触发时机备注表单被提交时触发注册到元素上文本框改变后立即出发注册到上文本框改变后失去焦点时触发下拉列表多选框单选框改变后立即触发注册到上表单被重置时触发注册到元素上元素聚焦时触发元素失去焦点时触发鼠标类事件事件名称触发时机备注鼠标按下抬起后触发也可以绑定鼠标事件如函数其他也一样右键菜单显示前触发鼠标按下时触发鼠标抬起时触发鼠标在元素上移动时触发鼠标进入元素时触发不冒泡鼠标离开元素时触发不冒泡鼠标进入元素时触发冒泡鼠标离开元素时触发冒泡鼠标滚轮滚动时触发键盘事件事件名称触发时机备注某个键被按下时触发某个键被抬起时触发注册事件提供了三种方式注册事件方式将事件注册写到元素上这种方式基本被弃用代码按钮方式使用属性注册事件属性名为事件类型监听事件处理函数移除监听事件这种方式的特点是优点易于监听覆盖移除缺点只能注册一个处理函数缺点某些事件不支持用这种方式注册方式使用方法注册事件处理函数触发时为当前处理函数这是最完美的事件注册方式如果要移除用这种方式注册的事件需要改写代码处理函数处理函数移除监听函数事件处理函数当事件发生时会自动调用事件处理函数并向函数传递一个参数该参数称之为事件对象里面包含了事件发生的相关信息比如鼠标位置键盘按键等等打印鼠标的横坐标常见的事件对象有鼠标事件对象键盘事件对象另外在事件处理函数中始终指向注册事件的练习题地址事件练习题拾贰码云开源中国事件练习题进阶事件默认行为某些元素的某些事件浏览器会有自己的默认行为比如元素的事件浏览器会跳转页面元素的事件浏览器会提交表单最终导致页面刷新文本框的事件浏览器会将按键文本显示到文本框中如果我们要阻止浏览器的默认行为就需要在对应时间中加入以下代码为事件对象练习题地址事件默认行为练习题拾贰码云开源中国事件默认行为练习题可以了解一下表单校验写法尺寸和位置调用可以设置元素的滚动位置和分别表示和该方法通用元素回到元素顶部如果要监听元素的滚动可以监听事件类型上图中的均相对于视口练习题尺寸和位置练习题拾贰码云开源中国尺寸和位置练习题包括可拖动便签和触碰边缘反弹的小球事件传播机制事件捕获从开始发现也就是捕获流程就是先发现被点击了然后发现中的被点击了然后依次往下事件冒泡从被点击其实也就是被点击了然后依次往上在冒泡阶段触发在捕获阶段触发事件第三个参数控制是否在捕获阶段触发事件在冒泡阶段触发事件默认事件处理函数以前的面试题和的关系如果在绑定点击事件你点击了此时是是获取事件源目标阶段的阻止事件继续冒泡事件委托就是将子元素共有的同功能的方法绑定到父元素上然后通过事件冒泡来触发好处节省资源提高效率因为每绑定一个方法都要开辟一个堆内存占用内存空间还有就是每创建一个新的子元素不需要再给它绑定方法了三技巧在循环中注册事件经典面试题下面代码会打印什么如何让它正常打印最后打印出来原因函数中的是外部的也就是全局作用域的因为变量提升上面的代码可以看成下面也就是全局作用域中只有一个又因为是异步的下面代码可以理解为时开一个计时器时再开一个计时器最后了过一秒后计时器开始执行打印解决方法用代替形成块级作用域每次都是一个新解决方法每次循环都产生一个新的作用域作用域中有一个变量值和这一次循环的相同使用函数来实现一个新的作用域代码如下每次循环调用函数传入不同的保留临时变量简写立即执行函数创建一个新的作用域有个按钮如何实现点击第个打印方法一事件委托是伪数组需要转换为数组方法二立即执行函数建立一个新的作用域练习题技巧在循环中注册事件练习题拾贰码云开源中国技巧在循环中注册事件练习题回调函数函数防抖满足两个条件函数操作很耗时函数频繁触发但是前面的触发没有意义只有最后一次有意义这里的指向的是是伪数组需要转换成数组正则表达式创建正则对象构造函数规则标识字面量书写规则标识例子构造函数字面量正则常用方法是正则对象字符串验证字符串是否满足规则是正则对象是字符串替换目标将字符串中匹配正则的部分替换为目标将字符串中匹配正则的部分传入到回调函数的参数中将函数的返回结果进行替换替换目标标识标识字符含义不区分大小写全局匹配如果没有此标识只会匹配第一个多行匹配规则详见字符匹配规则规则书写含义直接书写一个普通字符匹配书写的字符字符规则匹配中出现的所有字符规则字符串规则匹配中没有出现的字符规则匹配任意字符匹配数字等价于匹配非数字匹配空白字符包括空格回车换行制表匹配所有非空白字符匹配单词字符等价于匹配非单词字符等价于匹配字符串开始写到规则开始位置匹配字符串结束写到规则结束位置匹配连续的规则多个规则可以连续书写用以匹配多个字符例如匹配以个数字紧跟一个字母若多个规则是一个或者的关系使用分割匹配以个数字紧跟一个字母或者一个字母紧跟一个数字规则的重复量词一个或一段规则之后可以紧跟一个量词表示前面的规则出现的次数匹配个字母后面跟上连续的个数字是量词应用的规则是是量词应用的规则是量词含义出现次出现次至少出现次出现次或多次等价于出现次或一次等价于出现次或多次等价于练习邮箱价格格式浏览器的渲染流程解析浏览器从网络或本地文件中获取到源代码然后从上到下的解析源代码若解析过程中读取到或停止解析阻塞转而解析或执行注意加载图片资源不会导致阻塞为什么要将写到页面的开头而写到页面的最后将写到页面开头是为了让浏览器尽快读取并解析样式避免给用户看到丑陋的页面也是为了避免页面闪烁将代码写到最后是为了让浏览器尽快呈现页面给用户然后再执行完成交互功能生成树浏览器会一边解析一边生成树我们在中获取到的就是树中的当树完全生成好后会触发事件场景把写在前面的时候如果标签中有需要获取元素的行为可以写在下面函数里树已全部生成完毕当页面中的所有外部资源全部加载完毕后会触发事件所有资源已加载完成事件也可以针对单个外部资源使用资源加载完成后触发图片加载完成生成渲染树浏览器一边生成树一边计算树中每个节点的样式规则最终形成渲染树属性的计算过程发生在这一个步骤布局重排这个步骤又称之为回流重排是指浏览器一边生成渲染树一边计算每个元素最终的尺寸和位置注动画不会导致重排完成后页面中的所有元素的位置和尺寸就确定下来了即将被渲染到页面这个步骤会在页面之后的运行过程中不断的重复下面的操作均会导致获取元素的尺寸和位置直接或间接改变元素的尺寸和位置非常耗时浏览器为了提升性能对中连续导致的代码把的时间点延迟到结束后进行但在此过程中如果遇到了获取尺寸和位置的代码浏览器会迫不得已立即读取高度导致强行重绘浏览器一边一边进行生成对应的图形绘制到页面绘制的过程称之为所有会导致的代码均会导致绘制的过程是靠完成的速度非常快因此相对于导致的代码仅会导致的代码效率会高出很多凡是不会影响盒子排列仅影响盒子外观的代码都不会导致仅导致例如改变背景颜色改变字体颜色圆角边框背景图异常本节课的重点是异常的分类剩余两部分的知识绝大部分情况下都用不到除非你要写一些高端的代码异常并非坏事它可以让开发人员及时发现错误定位错误甚至在某些时候我们还需要故意的抛出异常异常的分类在中异常表现为一个对象不同的对象表达了不同的异常类型不同类型的异常对应到不同的错误异常类型含义语法错误引用错误往往是使用了未定义的变量或函数类型错误往往是使用了一个对象中不存在的成员每个异常都是一个对象通过对应的构造函数创建所有的异常构造器都继承自更多信息参见当代码运行过程中出现错误时会自动创建对应的异常对象抛出错误程序终止运行控制台中会显示异常对象每个异常对象都至少记录了两个关键信息错误消息描述描述异常出现的原因调用堆栈信息描述异常出现的位置捕获异常捕获异常就是处理错误当错误发生后我们对错误进行相应的处理让程序不至于终止代码代码当代码出现异常后会执行这里的代码异常对象会传递给代码可省略无论是否有异常都会执行无异常的执行顺序代码代码有异常的执行顺序代码出现异常中断代码的执行代码代码在绝大部分时候我们都无须捕获异常除非满足以下要求我们能够预知某段代码会出现异常我们知道出现异常后要做什么上面的条件任意一个不满足都不应该处理异常永远不能为了不报错而捕获异常下面是一段可能使用异常捕获的伪代码从网络获取王者荣耀英雄数据得到英雄数组将数组生成出现网络故障给用户显示一个提示框网络故障请检查您的网络是否连接正常故障原因手动抛出异常不仅浏览器会自动给我们抛出异常我们还可以手动的抛出异常异常对象当代码运行到这里会终止执行抛出异常对象效果和浏览器抛出的错误完全一样当编写函数时如果满足下面三个条件就可以选择抛出异常预知执行过程中可能会出现某种错误浏览器不会抛出这个错误该函数无法处理这个错误下面展现了一个需要抛出异常的例子得到两个数字之和若传递的不是数字则会抛出数字数字两数之和必须传入两个数字才能求和规范如果某个函数需要抛出异常一定要在函数的文档注释中阐述清楚练习说出下面的错误描述的含义以及该错误发生的原因断点调试复杂程序错误定位的终极方法方法浏览器打断点方法代码打断点',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-09-24 17:58:21',
  postMainColor: '',
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="加载头像" src="https://s2.loli.net/2023/09/01/NzaWb31teHk5UuX.jpg"/><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.getElementById('loading-box').classList.add("loaded");
  },
  initLoading: () => {
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })
setTimeout(function(){preloader.endLoading();},10000)

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.10/progress_bar/progress_bar.css"/><script async="async" src="https://cdn.cbd.int/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><div class="back-home-button"><i class="anzhiyufont anzhiyu-icon-grip-vertical"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://blog.anheyu.com/" title="博客"><img class="back-menu-item-icon" src="/img/favicon.ico" alt="博客"/><span class="back-menu-item-text">博客</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://image.anheyu.com/" title="安知鱼图床"><img class="back-menu-item-icon" src="https://image.anheyu.com/favicon.ico" alt="安知鱼图床"/><span class="back-menu-item-text">安知鱼图床</span></a></div></div></div></div><a id="site-name" href="/" accesskey="h"><div class="title">拾贰</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> 音乐馆</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> 相册集</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li></ul></div></div></div><div id="nav-right"><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机前往一个文章" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><input id="center-console" type="checkbox"/><label class="widget" for="center-console" title="中控台" onclick="anzhiyu.switchConsole();"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="https://s2.loli.net/2023/09/01/q6Stn5jbXVzxHmC.png" target="_blank"><img class="post-qr-code-img" alt="微信" src="https://s2.loli.net/2023/09/01/q6Stn5jbXVzxHmC.png"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://s2.loli.net/2023/09/01/Qa1oSxc3nlEeGOt.png" target="_blank"><img class="post-qr-code-img" alt="支付宝" src="https://s2.loli.net/2023/09/01/Qa1oSxc3nlEeGOt.png"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">互动</div><span class="author-content-item-title"> 最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">兴趣点</div><span class="author-content-item-title">寻找你感兴趣的领域</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/HTML-CSS/" style="font-size: 1.05rem;">HTML+CSS<sup>2</sup></a><a href="/tags/JavaScript/" style="font-size: 1.05rem;">JavaScript<sup>2</sup></a><a href="/tags/Uniapp/" style="font-size: 1.05rem;">Uniapp<sup>2</sup></a><a href="/tags/Vue/" style="font-size: 1.05rem;">Vue<sup>2</sup></a><a href="/tags/Webpack/" style="font-size: 1.05rem;">Webpack<sup>2</sup></a></div></div><hr/></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/09/"><span class="card-archive-list-date">九月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/08/"><span class="card-archive-list-date">八月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">3</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/07/"><span class="card-archive-list-date">七月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/06/"><span class="card-archive-list-date">六月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">4</span><span>篇</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" title="显示模式切换" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="边栏显示控制"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="音乐开关"><a class="music-switch"><i class="anzhiyufont anzhiyu-icon-music"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" title="切换"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">原创</a><span class="post-meta-categories"><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%B8%A1%E4%B8%80%E5%A4%A7%E5%B8%88%E8%AF%BE%E4%B9%8B%E6%8A%80%E6%9C%AF%E6%8F%90%E5%8D%87/" itemprop="url">渡一大师课之技术提升</a></span><span class="article-meta tags"><a class="article-meta__tags" href="/tags/JavaScript/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>JavaScript</span></a></span></div></div><h1 class="post-title" itemprop="name headline">JS收官(二)</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" itemprop="dateCreated datePublished" datetime="2024-09-09T08:46:01.685Z" title="发表于 2024-09-09 16:46:01">2024-09-09</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" itemprop="dateCreated datePublished" datetime="2024-09-24T09:58:21.659Z" title="更新于 2024-09-24 17:58:21">2024-09-24</time></span></div><div class="meta-secondline"><span class="post-meta-separator">       </span><span class="post-meta-position" title="作者IP属地为新乡"><i class="anzhiyufont anzhiyu-icon-location-dot"></i>新乡</span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src=""></div></header><main id="blog-container"><div class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container" itemscope itemtype="http://example.com/2024/09/09/JS%E6%94%B6%E5%AE%98-%E4%BA%8C/"><header><a class="post-meta-categories" href="/categories/%E6%B8%A1%E4%B8%80%E5%A4%A7%E5%B8%88%E8%AF%BE%E4%B9%8B%E6%8A%80%E6%9C%AF%E6%8F%90%E5%8D%87/" itemprop="url">渡一大师课之技术提升</a><a href="/tags/JavaScript/" tabindex="-1" itemprop="url">JavaScript</a><h1 id="CrawlerTitle" itemprop="name headline">JS收官(二)</h1><span itemprop="author" itemscope itemtype="http://schema.org/Person">拾贰</span><time itemprop="dateCreated datePublished" datetime="2024-09-09T08:46:01.685Z" title="发表于 2024-09-09 16:46:01">2024-09-09</time><time itemprop="dateCreated datePublished" datetime="2024-09-24T09:58:21.659Z" title="更新于 2024-09-24 17:58:21">2024-09-24</time></header><h2 id="一、标准库"><a href="#一、标准库" class="headerlink" title="一、标准库"></a>一、标准库</h2><h3 id="1-包装类"><a href="#1-包装类" class="headerlink" title="1.包装类"></a>1.包装类</h3><p>如果尝试着把原始类型（number、string、boolean）当做对象使用，JS会自动将其转换为对应包装类的实例</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 包装类</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line">a.<span class="title function_">toString</span>() <span class="comment">// &#x27;1&#x27;</span></span><br><span class="line"><span class="title class_">Number</span> <span class="comment">// Number()&#123;&#125;</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Number</span>(a) <span class="comment">// Number&#123;1&#125;</span></span><br><span class="line"><span class="title class_">String</span> <span class="comment">// String()&#123;&#125;</span></span><br><span class="line"><span class="comment">// 静态方法&amp;实例方法</span></span><br><span class="line"><span class="comment">// 静态方法</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">S</span>(<span class="params"></span>)&#123;&#125;</span><br><span class="line">S.<span class="property">abc</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;&#125;</span><br><span class="line">S.<span class="title function_">abc</span>()</span><br><span class="line"><span class="comment">// 实例方法</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">S</span>(<span class="params"></span>)&#123;&#125;</span><br><span class="line">S.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">abc</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;&#125;</span><br><span class="line"><span class="keyword">new</span> <span class="title function_">S</span>().<span class="title function_">abc</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// n === NaN 错误写法，NaN跟任意东西比较都是false</span></span><br></pre></td></tr></table></figure>

<h4 id="Number"><a href="#Number" class="headerlink" title="Number"></a>Number</h4><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Number">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Number</a></p>
<table>
<thead>
<tr>
<th>API</th>
<th>含义</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Number/NaN">Number.NaN</a></td>
<td>表示一个数学上并不存在的数字</td>
<td>可以直接书写为<code>NaN</code></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Number/isNaN">Number.isNaN()</a></td>
<td>判断传入的值是否是NaN</td>
<td>可以直接书写为<code>isNaN</code>,因为window中也有这个方法</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Number/isInteger">Number.isInteger()</a></td>
<td>判断传入的值是否是整数</td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Number/parseInt">Number.parseInt()</a></td>
<td>把传入的值转换为整数形式返回</td>
<td>可以直接书写为<code>parseInt()</code>，不是四舍五入</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Number/parseFloat">Number.parseFloat()</a></td>
<td>把传入的值转换为小数形式返回</td>
<td>可以直接书写为<code>parseFloat()</code></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Number/toFixed">Number.prototype.toFixed()</a></td>
<td>将当前数字保留指定位数的小数返回</td>
<td>传入小数位数</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Number/tostring">Number.prototype.toString()</a></td>
<td>将当前数字转换为字符串返回</td>
<td>传入进制2-36</td>
</tr>
</tbody></table>
<h4 id="String"><a href="#String" class="headerlink" title="String"></a>String</h4><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String</a></p>
<table>
<thead>
<tr>
<th>API</th>
<th>含义</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/fromCharCode">String.fromCharCode()</a></td>
<td>根据编码值得到一个字符</td>
<td>传入一个或多个编码值</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/length">String.prototype.length</a></td>
<td>得到字符串的长度</td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/charCodeAt">String.prototype.charCodeAt()</a></td>
<td>得到某个下标的字符编码</td>
<td>传入下标</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/includes">String.prototype.includes()</a></td>
<td>判断当前字符串是否包含某个子串</td>
<td>传入子串</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/indexOf">String.prototype.indexOf()</a></td>
<td>判断某个字符串在当前字符串中的第一个下标位置</td>
<td>如果没有，返回-1</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/lastIndexOf">String.prototype.lastIndexOf()</a></td>
<td>判断某个字符串在当前字符串中的最后一个下标位置</td>
<td>如果没有，返回-1</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/endsWith">String.prototype.endsWith()</a></td>
<td>判断某个字符串是否以指定的字符串结束</td>
<td>传入一个字符串</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith">String.prototype.startsWith()</a></td>
<td>判断某个字符串是否以指定的字符串开始</td>
<td>传入一个字符串</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/padStart">String.prototype.padStart()</a></td>
<td>将当前的字符串按照指定的字符在字符串开始位置填充到指定的位数，返回填充后的字符串</td>
<td>传入位数、填充字符</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/padEnd">String.prototype.padEnd()</a></td>
<td>将当前的字符串按照指定的字符在字符串结束位置填充到指定的位数，返回填充后的字符串</td>
<td>传入位数、填充字符</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/split">String.prototype.split()</a></td>
<td>把当前字符串按照某个字符串分割成一个字符串数组返回</td>
<td>传入分隔符</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/substring">String.prototype.substring()</a></td>
<td>返回一个字符串在开始索引到结束索引之间的一个子集, 或从开始索引直到字符串的末尾的一个子集</td>
<td>传入开始字符、结束字符</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/Trim">String.prototype.trim()</a></td>
<td>从字符串的两端删除空白字符，返回新字符串</td>
<td>无参数</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/trimStart">String.prototype.trimStart()</a></td>
<td>从字符串的开头删除空白字符，返回新字符串</td>
<td>无参数</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/trimEnd">String.prototype.trimEnd()</a></td>
<td>从字符串的末端删除空白字符，返回新字符串</td>
<td>无参数</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/toUpperCase">String.prototype.toUpperCase()</a></td>
<td>将调用该方法的字符串转为大写形式并返回</td>
<td>无参数</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/toLowerCase">String.prototype.toLowerCase()</a></td>
<td>将调用该方法的字符串转为小写形式并返回</td>
<td>无参数</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/replace">String.prototype.replace()</a></td>
<td>替换字符串中的第一个对应字符为新字符</td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/replaceall">String.prototype.replaceAll()</a></td>
<td>替换字符串中的所有对应字符为新字符</td>
<td></td>
</tr>
</tbody></table>
<h3 id="2-数学"><a href="#2-数学" class="headerlink" title="2.数学"></a>2.数学</h3><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Math">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Math</a></p>
<table>
<thead>
<tr>
<th>API</th>
<th>含义</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Math/PI">Math.PI</a></td>
<td>得到圆周率π</td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Math/abs">Math.abs()</a></td>
<td>求某个数绝对值</td>
<td>传入一个数</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Math/ceil">Math.ceil()</a></td>
<td>向上取整</td>
<td>传入一个数</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Math/floor">Math.floor()</a></td>
<td>向下取整</td>
<td>传入一个数</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Math/max">Math.max()</a></td>
<td>求一个数列中的最大值</td>
<td>把数列依次传入</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Math/min">Math.min()</a></td>
<td>求一个数列中的最小值</td>
<td>把数列依次传入</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Math/random">Math.random()</a></td>
<td>得到一个0-1之间的随机小数</td>
<td>无参；无法取到1</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Math/round">Math.round()</a></td>
<td>返回四舍五入的结果</td>
<td>传入一个数</td>
</tr>
</tbody></table>
<h3 id="3-日期"><a href="#3-日期" class="headerlink" title="3.日期"></a>3.日期</h3><h4 id="时间基础知识"><a href="#时间基础知识" class="headerlink" title="时间基础知识"></a>时间基础知识</h4><h5 id="单位"><a href="#单位" class="headerlink" title="单位"></a>单位</h5><table>
<thead>
<tr>
<th>单位</th>
<th>名称</th>
<th>换算</th>
</tr>
</thead>
<tbody><tr>
<td>hour</td>
<td>小时</td>
<td>1 day &#x3D; 24 hours</td>
</tr>
<tr>
<td>minute</td>
<td>分钟</td>
<td>1 hour &#x3D; 60 minutes</td>
</tr>
<tr>
<td>second</td>
<td>秒</td>
<td>1 minute &#x3D; 60 seconds</td>
</tr>
<tr>
<td>millisecond （ms）</td>
<td>毫秒</td>
<td>1 second &#x3D; 1000 ms</td>
</tr>
<tr>
<td>nanosecond （ns）</td>
<td>纳秒</td>
<td>1 ms &#x3D; 1000 ns</td>
</tr>
</tbody></table>
<h5 id="GMT和UTC"><a href="#GMT和UTC" class="headerlink" title="GMT和UTC"></a>GMT和UTC</h5><p>世界划分为24个时区，北京在东8区，格林威治在0时区。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2024/09/11/66e1469a54759.webp" alt="时区"></p>
<p><strong>GMT</strong>：Greenwish Mean Time 格林威治世界时。太阳时，精确到毫秒。</p>
<p><strong>UTC</strong>：Universal Time Coodinated 世界协调时。以原子时间为计时标准，精确到纳秒。</p>
<blockquote>
<p>国际标准中，已全面使用UTC时间，而不再使用GMT时间</p>
</blockquote>
<p>GMT和UTC时间在文本表示格式上是一致的，均为<code>星期缩写, 日期 月份 年份 时间 GMT</code>，例如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Thu, 27 Aug 2020 08:01:44 GMT</span><br></pre></td></tr></table></figure>

<p>另外，ISO 8601标准规定，建议使用以下方式表示时间：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">YYYY-MM-DDTHH:mm:ss.msZ</span><br><span class="line">例如：</span><br><span class="line">2020-08-27T08:01:44.000Z</span><br></pre></td></tr></table></figure>

<p><strong>GMT、UTC、ISO 8601都表示的是零时区的时间</strong></p>
<h5 id="Unix-时间戳"><a href="#Unix-时间戳" class="headerlink" title="Unix 时间戳"></a>Unix 时间戳</h5><blockquote>
<p>Unix 时间戳（Unix Timestamp）是Unix系统最早提出的概念</p>
</blockquote>
<p>它将UTC时间1970年1月1日凌晨作为起始时间，到指定时间经过的秒数（毫秒数）</p>
<h5 id="程序中的时间处理"><a href="#程序中的时间处理" class="headerlink" title="程序中的时间处理"></a>程序中的时间处理</h5><p><strong>程序对时间的计算、存储务必使用UTC时间，或者时间戳(时间戳都是零时区)</strong></p>
<p><strong>在和用户交互时，将UTC时间或时间戳转换为更加友好的文本</strong></p>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2024/09/11/66e1469a3b3e8.png" alt="image-20200827163636508" style="zoom:100%;" />

<p>思考下面的问题：</p>
<ol>
<li>用户的生日是本地时间还是UTC时间？ &#x2F;&#x2F; 本地时间</li>
<li>如果要比较两个日期的大小，是比较本地时间还是比较UTC时间？ &#x2F;&#x2F; UTC时间</li>
<li>如果要显示文章的发布日期，是显示本地时间还是显示UTC时间？ &#x2F;&#x2F; 本地时间</li>
<li><code>北京时间2020-8-28 10:00:00</code>和<code>格林威治2020-8-28 02:00:00</code>，两个时间哪个大，哪个小？ &#x2F;&#x2F; 北京时间换算为格林威治时间需要减8个小时</li>
<li><code>北京的时间戳为0</code>和<code>格林威治的时间戳为0</code>，它们的时间一样吗？ &#x2F;&#x2F; 一样，时间戳都是零时区</li>
<li>一个中国用户注册时填写的生日是<code>1970-1-1</code>，它出生的UTC时间是多少？时间戳是多少？ &#x2F;&#x2F; 1969-12-31 16:00:00</li>
</ol>
<h4 id="日期API"><a href="#日期API" class="headerlink" title="日期API"></a>日期API</h4><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Date">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Date</a></p>
<p>构造函数：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Date</span>(); <span class="comment">// 得到一个当前日期对象</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Date</span>(value); <span class="comment">// 根据时间戳得到一个日期对象</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Date</span>(dateString); <span class="comment">// 根据一个标准日期字符串得到一个日期对象</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Date</span>(year, monthIndex [, day [, hours [, minutes [, seconds [, milliseconds]]]]]); <span class="comment">// 根据年、月、日、小时、分钟、秒、毫秒得到一个日期对象,[]里面为可选参数，可不填，给默认值0</span></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>API</th>
<th>含义</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Date/now">Date.now()</a></td>
<td>得到当前时间戳</td>
<td>无参</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Date/getFullYear">Date.prototype.getFullYear()</a></td>
<td>得到年</td>
<td>无参；本地时间；</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Date/getMonth">Date.prototype.getMonth()</a></td>
<td>得到月</td>
<td>无参；本地时间；范围0-11</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Date/getDate">Date.prototype.getDate()</a></td>
<td>得到日</td>
<td>无参；本地时间；</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Date/getHours">Date.prototype.getHours()</a></td>
<td>得到小时</td>
<td>无参；本地时间；</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Date/getMinutes">Date.prototype.getMinutes()</a></td>
<td>得到分钟</td>
<td>无参；本地时间；</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Date/getSeconds">Date.prototype.getSeconds()</a></td>
<td>得到秒</td>
<td>无参；本地时间；</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Date/getMilliseconds">Date.prototype.getMilliseconds()</a></td>
<td>得到毫秒</td>
<td>无参；本地时间；</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Date/toLocaleString">Date.prototype.toLocaleString()</a></td>
<td>得到日期本地的表示方式</td>
<td></td>
</tr>
</tbody></table>
<h3 id="4-对象"><a href="#4-对象" class="headerlink" title="4.对象"></a>4.对象</h3><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object</a></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj1 = &#123;<span class="attr">a</span>:<span class="number">1</span>,<span class="attr">b</span>:<span class="number">2</span>&#125;;</span><br><span class="line"><span class="keyword">var</span> obj2 = &#123;<span class="attr">a</span>:<span class="number">2</span>,<span class="attr">b</span>:<span class="number">3</span>,<span class="attr">c</span>:<span class="number">4</span>,<span class="attr">d</span>:<span class="number">5</span>&#125;;</span><br><span class="line"><span class="keyword">var</span> obj3 = &#123;<span class="attr">b</span>:<span class="number">4</span>,<span class="attr">e</span>:<span class="number">7</span>&#125;;</span><br><span class="line"><span class="keyword">var</span> newObj = <span class="title class_">Object</span>.<span class="title function_">assign</span>(obj1,obj2,obj3)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj1,newObj) <span class="comment">// 两者内容是相等的，内存地址一样</span></span><br><span class="line"><span class="comment">// 想建立一个新对象应该怎么做</span></span><br><span class="line"><span class="keyword">var</span> failObj = <span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123;&#125;,obj1,obj2,obj3)</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>API</th>
<th>含义</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/assign">Object.assign()</a></td>
<td>将多个对象的属性混合到一起</td>
<td>后面覆盖前面</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/getPrototypeOf">Object.getPrototypeOf()</a></td>
<td>获取一个对象的隐式原型</td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/setPrototypeOf">Object.setPrototypeOf()</a></td>
<td>设置一个对象的隐式原型</td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/create">Object.create()</a></td>
<td>创建一个新对象，同时设置新对象的隐式原型</td>
<td></td>
</tr>
</tbody></table>
<h3 id="5-数组"><a href="#5-数组" class="headerlink" title="5.数组"></a>5.数组</h3><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array</a></p>
<table>
<thead>
<tr>
<th>API</th>
<th>含义</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/concat">Array.prototype.concat()</a></td>
<td>把多个数组拼接成一个</td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/includes">Array.prototype.includes()</a></td>
<td>判断数组中是否包含某个值</td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/indexOf">Array.prototype.indexOf()</a></td>
<td>得到数组中某个值的第一个下标</td>
<td>若不存在则返回-1</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/lastIndexOf">Array.prototype.lastIndexOf()</a></td>
<td>得到数组中某个值的最后一个下标</td>
<td>若不存在则返回-1</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/join">Array.prototype.join()</a></td>
<td>把数组中每一项使用某个字符连接起来，形成一个字符串返回</td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/push">Array.prototype.push()</a></td>
<td>向数组的末尾添加一项</td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/unshift">Array.prototype.unshift()</a></td>
<td>向数组的开头添加一项</td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/pop">Array.prototype.pop()</a></td>
<td>删除数组最后一项</td>
<td>返回被删除的值</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/shift">Array.prototype.shift()</a></td>
<td>删除数组第一项</td>
<td>返回被删除的值</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/splice">Array.prototype.splice()</a></td>
<td>删除、修改、插入任何位置的值</td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/reverse">Array.prototype.reverse()</a></td>
<td>将数组中的元素顺序颠倒</td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/sort">Array.prototype.sort()</a></td>
<td>对数组进行排序</td>
<td>传入比较函数：0-位置不变，&lt;0-前者在前，&gt;0-前者在后</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/slice">Array.prototype.slice()</a></td>
<td>对数组进行切割</td>
<td></td>
</tr>
</tbody></table>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 排序</span></span><br><span class="line">arr.<span class="title function_">sort</span>(<span class="keyword">function</span>(<span class="params">a,b</span>)&#123;</span><br><span class="line">    <span class="comment">// if(a&gt;b)&#123;</span></span><br><span class="line">    <span class="comment">//    return 1;</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">    <span class="comment">// else if(a&lt;b)&#123;</span></span><br><span class="line">    <span class="comment">//    return -1;</span></span><br><span class="line">    <span class="comment">// &#125;else&#123;</span></span><br><span class="line">    <span class="comment">//    return 0;</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">    <span class="keyword">return</span> a - b;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// 随机排序</span></span><br><span class="line">arr.<span class="title function_">sort</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">random</span>() - <span class="number">0.5</span>;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// 数组克隆</span></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">3</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">2</span>,<span class="number">8</span>];</span><br><span class="line"><span class="keyword">var</span> newArr = arr.<span class="title function_">slice</span>(<span class="number">0</span>); <span class="comment">// 返回一个新数组</span></span><br><span class="line"><span class="comment">// 转化伪数组为真数组</span></span><br><span class="line"><span class="keyword">var</span> obj = &#123;<span class="number">0</span>:<span class="number">1</span>,<span class="number">1</span>:<span class="number">2</span>,<span class="attr">length</span>:<span class="number">2</span>&#125;;</span><br><span class="line"><span class="keyword">var</span> arr = <span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">slice</span>.<span class="title function_">call</span>(obj);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>当函数作为参数传递，该函数称之为回调函数</p>
</blockquote>
<h3 id="6-函数"><a href="#6-函数" class="headerlink" title="6.函数"></a>6.函数</h3><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function</a></p>
<table>
<thead>
<tr>
<th>API</th>
<th>含义</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/apply">Function.prototype.apply()</a></td>
<td>执行函数，绑定this</td>
<td>参数列表以数组的形式传递</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/call">Function.prototype.call()</a></td>
<td>执行函数，绑定this</td>
<td>参数列表依次传递</td>
</tr>
</tbody></table>
<h3 id="7-典型例题-部分"><a href="#7-典型例题-部分" class="headerlink" title="7.典型例题(部分)"></a>7.典型例题(部分)</h3><p>相关例题地址：[16. 标准库-数字和字符串 · 拾贰&#x2F;frontend-pre-javascript - 码云 - 开源中国 (gitee.com)](<a target="_blank" rel="noopener" href="https://gitee.com/xlt-vue/frontend-pre-javascript/tree/f4c888b710d0da44822eeb018fdfb183b652e0eb/16">https://gitee.com/xlt-vue/frontend-pre-javascript/tree/f4c888b710d0da44822eeb018fdfb183b652e0eb/16</a>. 标准库-数字和字符串)</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>将rgb格式转化为<span class="variable constant_">HEX</span>格式</span><br><span class="line"><span class="keyword">var</span> rgb = <span class="string">&#x27;rgb(35,183,26)&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 取出三个数字</span></span><br><span class="line"><span class="keyword">var</span> parts = rgb.<span class="title function_">replace</span>(<span class="string">&#x27;rgb&#x27;</span>,<span class="string">&#x27;&#x27;</span>).<span class="title function_">replace</span>(<span class="string">&#x27;(&#x27;</span>,<span class="string">&#x27;&#x27;</span>).<span class="title function_">replace</span>(<span class="string">&#x27;)&#x27;</span>,<span class="string">&#x27;&#x27;</span>).<span class="title function_">split</span>(<span class="string">&#x27;,&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> r = <span class="built_in">parseInt</span>(parts[<span class="number">0</span>]).<span class="title function_">toString</span>(<span class="number">16</span>);</span><br><span class="line"><span class="keyword">var</span> g = <span class="built_in">parseInt</span>(parts[<span class="number">1</span>]).<span class="title function_">toString</span>(<span class="number">16</span>);</span><br><span class="line"><span class="keyword">var</span> b = <span class="built_in">parseInt</span>(parts[<span class="number">2</span>]).<span class="title function_">toString</span>(<span class="number">16</span>);</span><br><span class="line"><span class="keyword">var</span> result = <span class="string">&#x27;#&#x27;</span> + r + g +b;</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>得到一个指定范围的随机整数</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getRandom</span>(<span class="params">min,max</span>)&#123;</span><br><span class="line">    <span class="comment">// Math.random()  [0,1)</span></span><br><span class="line">    <span class="comment">// Math.random() * (max-min)  [0,max-min)</span></span><br><span class="line">    <span class="comment">// Math.random() * (max-min) + min  [min,max)</span></span><br><span class="line">    <span class="comment">// Math.floor(Math.random()*(max-min)+min)  [min,max) 全是整数</span></span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>()*(max-min)+min);</span><br><span class="line">&#125;</span><br><span class="line"><span class="number">3.</span>得到一个指定长度的随机字符串，字符串包含：数字、字母</span><br><span class="line"><span class="comment">// 方法一：从str字符串中取length个字符拼接到一起</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getRandomString</span>(<span class="params">length</span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> str = <span class="string">&#x27;01234567890abcdefghijklmnopqrstuvwxyz&#x27;</span>;</span><br><span class="line">    <span class="keyword">var</span> result = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i&lt;length;i++)&#123;</span><br><span class="line">        <span class="keyword">var</span> index = <span class="title function_">getRandom</span>(<span class="number">0</span>,str.<span class="property">length</span>);</span><br><span class="line">        result += str[index];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 方法二：获取一段随机数，如：0.1234617283646，然后转成16进制，小数点后面会变成数字＋字母的形式，然后用substring截取小数点后的length长度</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getRandomString</span>(<span class="params">length</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">random</span>().<span class="title function_">toString</span>(<span class="number">36</span>).<span class="title function_">substring</span>(<span class="number">2</span>,<span class="number">2</span>+length);</span><br><span class="line">&#125;</span><br><span class="line"><span class="number">4.</span>从数组中随机取出一项</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getRandomItem</span>(<span class="params">arr</span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> index = <span class="title function_">getRandom</span>(<span class="number">0</span>,arr.<span class="property">length</span>);</span><br><span class="line">    <span class="keyword">return</span> arr[index];</span><br><span class="line">&#125;</span><br><span class="line"><span class="number">5.</span>将日期格式转化为字符串</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 将日期格式化为字符串</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">Date</span>&#125; date 日期对象</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">string</span>&#125; format 格式化字符串 yyyy-年 MM-月 dd-日 HH-时 mm-分 ss-秒 ms-毫秒</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns</span> &#123;<span class="type">string</span>&#125; 格式化后的字符串</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">formatDate</span>(<span class="params">date, format</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> year = date.<span class="title function_">getFullYear</span>().<span class="title function_">toString</span>().<span class="title function_">padStart</span>(<span class="number">4</span>, <span class="string">&quot;0&quot;</span>);</span><br><span class="line">  <span class="keyword">var</span> month = (date.<span class="title function_">getMonth</span>() + <span class="number">1</span>).<span class="title function_">toString</span>().<span class="title function_">padStart</span>(<span class="number">2</span>, <span class="string">&quot;0&quot;</span>);</span><br><span class="line">  <span class="keyword">var</span> day = date.<span class="title function_">getDate</span>().<span class="title function_">toString</span>().<span class="title function_">padStart</span>(<span class="number">2</span>, <span class="string">&quot;0&quot;</span>);</span><br><span class="line">  <span class="keyword">var</span> hour = date.<span class="title function_">getHours</span>().<span class="title function_">toString</span>().<span class="title function_">padStart</span>(<span class="number">2</span>, <span class="string">&quot;0&quot;</span>);</span><br><span class="line">  <span class="keyword">var</span> minute = date.<span class="title function_">getMinutes</span>().<span class="title function_">toString</span>().<span class="title function_">padStart</span>(<span class="number">2</span>, <span class="string">&quot;0&quot;</span>);</span><br><span class="line">  <span class="keyword">var</span> second = date.<span class="title function_">getSeconds</span>().<span class="title function_">toString</span>().<span class="title function_">padStart</span>(<span class="number">2</span>, <span class="string">&quot;0&quot;</span>);</span><br><span class="line">  <span class="keyword">var</span> millisecond = date.<span class="title function_">getMilliseconds</span>().<span class="title function_">toString</span>();</span><br><span class="line">  <span class="keyword">return</span> format</span><br><span class="line">    .<span class="title function_">replace</span>(<span class="string">&quot;yyyy&quot;</span>, year)</span><br><span class="line">    .<span class="title function_">replace</span>(<span class="string">&quot;MM&quot;</span>, month)</span><br><span class="line">    .<span class="title function_">replace</span>(<span class="string">&quot;dd&quot;</span>, day)</span><br><span class="line">    .<span class="title function_">replace</span>(<span class="string">&quot;HH&quot;</span>, hour)</span><br><span class="line">    .<span class="title function_">replace</span>(<span class="string">&quot;mm&quot;</span>, minute)</span><br><span class="line">    .<span class="title function_">replace</span>(<span class="string">&quot;ss&quot;</span>, second)</span><br><span class="line">    .<span class="title function_">replace</span>(<span class="string">&quot;ms&quot;</span>, millisecond);</span><br><span class="line">&#125;</span><br><span class="line"><span class="number">6.</span>删除数组中的所有字符串</span><br><span class="line"><span class="keyword">var</span> nums = [<span class="number">1</span>, <span class="number">1</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">3</span>, <span class="number">7</span>];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i&lt;nums.<span class="property">length</span>;i++)&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">typeof</span> nums[i] === <span class="string">&#x27;string&#x27;</span>)&#123;</span><br><span class="line">        nums.<span class="title function_">splice</span>(i,<span class="number">1</span>);</span><br><span class="line">        i--; <span class="comment">// 为什么要有这一步，因为删除某个字符串后，下标会发生变化，可能会出现问题</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="number">7.</span>数组去重(最原始，最有用，一般不会踩坑)</span><br><span class="line"><span class="keyword">var</span> nums = [<span class="number">1</span>, <span class="number">1</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">3</span>, <span class="number">7</span>];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i&lt;nums.<span class="property">length</span>;i++)&#123;</span><br><span class="line">    <span class="keyword">var</span> item = nums[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> j=i+<span class="number">1</span>;j&lt;nums.<span class="property">length</span>;j++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(item === nums[j])&#123;</span><br><span class="line">            nums.<span class="title function_">splice</span>(nums[j],<span class="number">1</span>);</span><br><span class="line">            j--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="number">8.</span>判断下面的文件是否符合后缀名要求</span><br><span class="line"><span class="comment">// 合法的后缀名：.jpg  .gif  .bmp .webp  .png</span></span><br><span class="line"><span class="keyword">var</span> filename = <span class="string">&#x27;d://files/mymap/3.jpg&#x27;</span>; </span><br><span class="line"><span class="comment">// 补充：斜杠分隔符可能是/或\,windows的标准是\，其他是/，但是windows也认识/，写\的时候要注意\是转义符，最好写成\\,把\转译为\</span></span><br><span class="line"><span class="comment">// 1.得到文件的后缀名</span></span><br><span class="line"><span class="keyword">var</span> index = filename.<span class="title function_">lastIndexOf</span>(<span class="string">&#x27;.&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> extname = filename.<span class="title function_">substring</span>(index);</span><br><span class="line"><span class="comment">// 2.判断后缀名是否合法</span></span><br><span class="line"><span class="keyword">var</span> allows = [<span class="string">&#x27;.jpg&#x27;</span>,<span class="string">&#x27;.gif&#x27;</span>,<span class="string">&#x27;.bmp&#x27;</span>,<span class="string">&#x27;.webp&#x27;</span>,<span class="string">&#x27;.png&#x27;</span>];</span><br><span class="line"><span class="keyword">if</span>(allows.<span class="title function_">includes</span>(extname))&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;合法&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="二、WebAPI"><a href="#二、WebAPI" class="headerlink" title="二、WebAPI"></a>二、WebAPI</h2><p>和标准库不同，WebAPI 是<strong>浏览器</strong>提供的一套 API，用于操作浏览器窗口和界面</p>
<p>WebAPI 中包含两个部分：</p>
<ul>
<li>BOM：Browser Object Model，浏览器模型，提供和浏览器相关的操作</li>
<li>DOM：Document Object Model，文档模型，提供和页面相关的操作</li>
</ul>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2024/09/13/66e3e5a080126.png" alt="image-20211215154639275" style="zoom:50%;" />

<h3 id="1-BOM"><a href="#1-BOM" class="headerlink" title="1.BOM"></a>1.BOM</h3><p>BOM 提供了一系列的对象和函数，提供和浏览器本身相关的操作</p>
<h4 id="window"><a href="#window" class="headerlink" title="window"></a>window</h4><p>全局对象</p>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window/window">https://developer.mozilla.org/zh-CN/docs/Web/API/Window/window</a></p>
<table>
<thead>
<tr>
<th>API</th>
<th>含义</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window/open"><code>open()</code></a></td>
<td>打开一个新的浏览器窗口</td>
<td>返回新窗口的 window 对象</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window/close"><code>close()</code></a></td>
<td>关闭浏览器窗口</td>
<td>只能关闭使用 open 打开的浏览器窗口</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window/setTimeout">&#x3D;&#x3D;setTimeout()&#x3D;&#x3D;</a></td>
<td>设置一个计时器<br />在一段时间后自动执行某个函数<br /><strong>定时器是异步的</strong></td>
<td>参数 1：函数，无参，this 指向 window<br />参数 2：时间，毫秒<br />返回：计时器的 ID</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window/clearTimeout">&#x3D;&#x3D;clearTimeout()&#x3D;&#x3D;</a></td>
<td>清除指定 ID 的计时器</td>
<td>传入计时器的 ID</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window/setInterval">&#x3D;&#x3D;setInterval()&#x3D;&#x3D;</a></td>
<td>设置一个计时器<br />每隔一段时间自动执行某个函数</td>
<td>参数 1：函数，无参，this 指向 window<br />参数 2：时间，毫秒<br />返回：计时器的 ID</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window/clearInterval">&#x3D;&#x3D;clearInterval()&#x3D;&#x3D;</a></td>
<td>清除指定 ID 的计时器</td>
<td>传入计时器的 ID</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window/alert"><code>alert()</code></a></td>
<td>弹出提示框</td>
<td>不同的操作系统外观有差异</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window/confirm"><code>confirm()</code></a></td>
<td>弹出确认框</td>
<td>不同的操作系统外观有差异</td>
</tr>
</tbody></table>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 定时器</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> time;</span><br><span class="line"><span class="comment">// 开始</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">start</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (time) <span class="keyword">return</span></span><br><span class="line">  time = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">clear</span>()</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">toLocaleString</span>())</span><br><span class="line">  &#125;, <span class="number">1000</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 停止</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">stop</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="built_in">clearTimeout</span>(time)</span><br><span class="line">  time = <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="window-location"><a href="#window-location" class="headerlink" title="window.location"></a>window.location</h4><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Location">https://developer.mozilla.org/zh-CN/docs/Web/API/Location</a></p>
<p>提供地址栏的相关操作</p>
<table>
<thead>
<tr>
<th>API</th>
<th>含义</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Location/href">&#x3D;&#x3D;Location.href&#x3D;&#x3D;</a></td>
<td>获取或设置页面当前地址</td>
<td>设置地址回导致页面跳转</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/API/Location/protocol"><code>Location.protocol</code></a></td>
<td>获取或设置地址中的协议部分</td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Location/host"><code>Location.host</code></a></td>
<td>获取或设置地址中的主机名和端口号</td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Location/hostname"><code>Location.hostname</code></a></td>
<td>获取或设置地址中的主机名</td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/API/Location/port"><code>Location.port</code> </a></td>
<td>获取或设置地址中的端口号</td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/API/Location/pathname"><code>Location.pathname</code> </a></td>
<td>获取或设置地址中的路径部分</td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Location/search"><code>Location.search</code></a></td>
<td>获取或设置地址中的参数部分</td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Location/hash"><code>Location.hash</code></a></td>
<td>获取或设置地址中的 hash 部分</td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Location/reload"><code>Location.reload()</code></a></td>
<td>刷新页面</td>
<td></td>
</tr>
</tbody></table>
<h4 id="window-history"><a href="#window-history" class="headerlink" title="window.history"></a>window.history</h4><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/History">https://developer.mozilla.org/zh-CN/docs/Web/API/History</a></p>
<p>提供当前窗口历史记录的操作</p>
<table>
<thead>
<tr>
<th>API</th>
<th>含义</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/History/back"><code>History.back()</code></a></td>
<td>后退</td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/History/forward"><code>History.forward()</code></a></td>
<td>前进</td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/History/go"><code>History.go()</code></a></td>
<td>根据相对当前页面的偏移量，<br />进入指定的记录页</td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/History/pushState"><code>History.pushState()</code></a></td>
<td>在历史记录中添加一条记录</td>
<td>页面不刷新</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/History/replaceState"><code>History.replaceState()</code></a></td>
<td>替换当前记录</td>
<td>页面不刷新</td>
</tr>
</tbody></table>
<h3 id="2-DOM"><a href="#2-DOM" class="headerlink" title="2.DOM"></a>2.DOM</h3><p>DOM 是一个对象，它对应到 HTML 中的节点，<code>what is</code>这种被称为<code>文本节点</code></p>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2024/09/13/66e3e5a0800b2.png" alt="image-20211215164209559" style="zoom:50%;" />

<h4 id="获取-dom"><a href="#获取-dom" class="headerlink" title="获取 dom"></a>获取 dom</h4><p><code>document</code>是<code>window</code>中的一个属性，所以可以直接使用</p>
<table>
<thead>
<tr>
<th>API</th>
<th>含义</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>document.getElementById()</td>
<td>根据元素 id 获取 dom</td>
<td>得到单个 dom</td>
</tr>
<tr>
<td>document.getElementsByTagName()<br />dom.getElementsByTagName() <br>这里的dom指定是某个元素，获取该元素里的dom</td>
<td>根据元素名称获取 dom</td>
<td>得到 dom 的伪数组</td>
</tr>
<tr>
<td>document.getElementsByClassName()<br />dom.getElementsByClassName()</td>
<td>根据元素类样式获取 dom</td>
<td>得到 dom 的伪数组</td>
</tr>
<tr>
<td>&#x3D;&#x3D;document.querySelector()&#x3D;&#x3D;<br />&#x3D;&#x3D;dom.querySelector()&#x3D;&#x3D;</td>
<td>根据 CSS 选择器获取 dom</td>
<td>得到第一个匹配的 dom</td>
</tr>
<tr>
<td>&#x3D;&#x3D;document.querySelectorAll()&#x3D;&#x3D;<br />&#x3D;&#x3D;dom.querySelectorAll()&#x3D;&#x3D;</td>
<td>根据 CSS 选择器获取 dom</td>
<td>得到所有匹配的 dom<br />伪数组</td>
</tr>
<tr>
<td>&#x3D;&#x3D;document.documentElement&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;document.querySelector(‘html’)</td>
<td>获取 html 元素</td>
<td></td>
</tr>
<tr>
<td>document.body</td>
<td>获取 body</td>
<td></td>
</tr>
<tr>
<td>document.head</td>
<td>获取 head</td>
<td></td>
</tr>
<tr>
<td>&#x3D;&#x3D;dom.children&#x3D;&#x3D;</td>
<td>获取 dom 的子元素</td>
<td>得到 dom 的伪数组</td>
</tr>
<tr>
<td>dom.childNodes</td>
<td>获取 dom 的子节点</td>
<td>得到 dom 节点的伪数组<br />关于节点对象点<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Node">这里</a></td>
</tr>
<tr>
<td>dom.previousElementSibling</td>
<td>得到 dom 前一个兄弟元素</td>
<td></td>
</tr>
<tr>
<td>dom.nextElementSibling</td>
<td>得到 dom 后一个兄弟元素</td>
<td></td>
</tr>
<tr>
<td>&#x3D;&#x3D;dom.parentElement&#x3D;&#x3D;</td>
<td>得到 dom 的父元素</td>
<td></td>
</tr>
</tbody></table>
<h4 id="创建-dom"><a href="#创建-dom" class="headerlink" title="创建 dom"></a>创建 dom</h4><table>
<thead>
<tr>
<th>API</th>
<th>含义</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>&#x3D;&#x3D;document.createElement()&#x3D;&#x3D;</td>
<td>创建一个 dom元素 并返回</td>
<td>传入元素名称</td>
</tr>
</tbody></table>
<h4 id="更改-dom-结构"><a href="#更改-dom-结构" class="headerlink" title="更改 dom 结构"></a>更改 dom 结构</h4><p>这里是指更改文档树（DOM 树）</p>
<table>
<thead>
<tr>
<th>API</th>
<th>含义</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>&#x3D;&#x3D;dom.remove()&#x3D;&#x3D;</td>
<td>从文档树中删除 dom,但是dom对象还在</td>
<td>不是删除对象</td>
</tr>
<tr>
<td>dom.removeChild()</td>
<td>删除 dom 的某个子节点</td>
<td>传入 dom 对象</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Node/insertBefore"><code>dom.insertBefore()</code></a></td>
<td>在 dom 的子节点中，添加一个新节点到另一个节点之前</td>
<td></td>
</tr>
<tr>
<td>&#x3D;&#x3D;dom.appendChild()&#x3D;&#x3D;</td>
<td>添加一个新节点到 dom 的子节点末尾</td>
<td>传入 dom 对象</td>
</tr>
</tbody></table>
<h4 id="dom-属性"><a href="#dom-属性" class="headerlink" title="dom 属性"></a>dom 属性</h4><p>本节的「属性」，是指 HTML 元素的「属性」</p>
<p>属性有两种：</p>
<ul>
<li>标准属性：HTML 元素本身拥有的属性，例如：<ul>
<li>a 元素的 href、title</li>
<li>input 的 value</li>
<li>img 的 src</li>
<li>……</li>
</ul>
</li>
<li>自定义属性：HTML 元素标准中未定义的属性</li>
</ul>
<p><strong>所有标准属性均可通过 <code>dom.属性名</code> 得到，其中：</strong></p>
<ul>
<li><p>布尔属性会被自动转换为 boolean</p>
</li>
<li><p>路径类的属性会被转换为绝对路径</p>
</li>
<li><p>标准属性始终都是存在的，不管你是否有在元素中属性该属性</p>
</li>
<li><p>class 由于和关键字重名，因此需要使用 className</p>
</li>
</ul>
<p><strong>所有的自定义属性均可通过下面的方式操作：</strong></p>
<ul>
<li><code>dom.setAttribute(name, value)</code>，设置属性键值对</li>
<li><code>dom.getAttribute(name)</code>，获取属性值</li>
</ul>
<p>自定义属性和元素源码书写是对应的，可以尝试获取 a 元素的 href 属性对比标准属性，看看有什么不同。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=<span class="string">&#x27;checkbox&#x27;</span> checked=<span class="string">&#x27;123&#x27;</span>&gt;&lt;/input&gt;</span><br><span class="line"><span class="keyword">var</span> input = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;input&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(input.<span class="property">checked</span>) <span class="comment">// 取决于现在是否选中</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(input.<span class="title function_">getAttribute</span>(<span class="string">&#x27;checked&#x27;</span>)) <span class="comment">// 取决于是否有自定义属性，没有则为null，有则与自定义属性相同,如上则为123</span></span><br></pre></td></tr></table></figure>

<h4 id="dom-内容"><a href="#dom-内容" class="headerlink" title="dom 内容"></a>dom 内容</h4><table>
<thead>
<tr>
<th>API</th>
<th>含义</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>&#x3D;&#x3D;dom.innerText&#x3D;&#x3D;</td>
<td>获取或设置元素文本内容</td>
<td>设置时会自动进行 HTML 实体编码，转换为文本</td>
</tr>
<tr>
<td>&#x3D;&#x3D;dom.innerHTML&#x3D;&#x3D;</td>
<td>获取或设置元素的 HTML 内容</td>
<td></td>
</tr>
</tbody></table>
<h4 id="dom-样式"><a href="#dom-样式" class="headerlink" title="dom 样式"></a>dom 样式</h4><p>在 JS 中，有两种样式：</p>
<ul>
<li>内联样式：元素的 style 属性中书写的样式</li>
<li>计算样式（最终样式）：元素最终计算出来的样式</li>
</ul>
<p><strong>JS 可以获取内联样式和计算样式，但只能设置内联样式</strong></p>
<p>下面罗列了样式的常见操作：</p>
<ul>
<li><code>dom.style</code>：获取元素的内联样式，得到样式对象<ul>
<li>对象中的所有样式属性均可以被赋值，赋值后即可应用样式到元素的 style 中</li>
</ul>
</li>
<li><code>getComputedStyle(dom)</code>：获取元素的计算样式，得到一个样式对象<ul>
<li>该样式对象中的属性是只读的，无法被重新赋值</li>
</ul>
</li>
</ul>
<p>关于<strong>样式对象</strong>，注意：</p>
<ul>
<li>当给样式赋值为空字符串时，相当于删除内联样式</li>
<li>当给样式的赋值不合法时，赋值语句无效，不会报错</li>
<li>CSS 的短横线命名法，在属性名中表现为驼峰命名法，如：<code>dom.style.font-size</code>需写成<code>dom.style.fontSize</code></li>
</ul>
<p><strong>练习题地址</strong>：[21. WebAPI-玩转DOM&#x2F;练习题 · 拾贰&#x2F;frontend-pre-javascript - 码云 - 开源中国 (gitee.com)](<a target="_blank" rel="noopener" href="https://gitee.com/xlt-vue/frontend-pre-javascript/tree/f4c888b710d0da44822eeb018fdfb183b652e0eb/21">https://gitee.com/xlt-vue/frontend-pre-javascript/tree/f4c888b710d0da44822eeb018fdfb183b652e0eb/21</a>. WebAPI-玩转DOM&#x2F;练习题)，最好做下，很有用</p>
<h4 id="监听-dom-事件"><a href="#监听-dom-事件" class="headerlink" title="监听 dom 事件"></a>监听 dom 事件</h4><p>监听事件可以描述为一句话：</p>
<p><strong>某个 DOM</strong>发生了<strong>某件事</strong>之后，我需要做<strong>某些处理</strong></p>
<ul>
<li>某个 DOM：监听谁？</li>
<li>某件事（事件类型）：它发生了什么？</li>
<li>某些处理（处理函数）：我要做什么？</li>
</ul>
<p>下面是一段事件监听代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 为dom注册点击事件，当被点击时，自动运行事件处理函数</span></span><br><span class="line">dom.<span class="property">onclick</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;dom 被点击了&#x27;</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h5 id="事件类型"><a href="#事件类型" class="headerlink" title="事件类型"></a>事件类型</h5><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/Events">https://developer.mozilla.org/zh-CN/docs/Web/Events</a></p>
<h6 id="表单类事件"><a href="#表单类事件" class="headerlink" title="表单类事件"></a>表单类事件</h6><table>
<thead>
<tr>
<th>事件名称</th>
<th>触发时机</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>&#x3D;&#x3D;submit&#x3D;&#x3D;</td>
<td>表单被提交时触发</td>
<td>注册到 form 元素上</td>
</tr>
<tr>
<td>&#x3D;&#x3D;input&#x3D;&#x3D;</td>
<td>文本框改变后立即出发</td>
<td>注册到 input、textarea 上</td>
</tr>
<tr>
<td>&#x3D;&#x3D;change&#x3D;&#x3D;</td>
<td>文本框改变后、失去焦点时触发<br />下拉列表、多选框、单选框改变后立即触发</td>
<td>注册到 input、select、textarea 上</td>
</tr>
<tr>
<td>reset</td>
<td>表单被重置时触发</td>
<td>注册到 form 元素上</td>
</tr>
<tr>
<td>focus</td>
<td>元素聚焦时触发</td>
<td></td>
</tr>
<tr>
<td>blur</td>
<td>元素失去焦点时触发</td>
<td></td>
</tr>
</tbody></table>
<h6 id="鼠标类事件"><a href="#鼠标类事件" class="headerlink" title="鼠标类事件"></a>鼠标类事件</h6><table>
<thead>
<tr>
<th>事件名称</th>
<th>触发时机</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>&#x3D;&#x3D;click&#x3D;&#x3D;</td>
<td>鼠标按下抬起后触发</td>
<td>window也可以绑定鼠标事件<br>如<code>window.onclick=函数</code>，其他也一样</td>
</tr>
<tr>
<td>contextmenu</td>
<td>右键菜单显示前触发</td>
<td></td>
</tr>
<tr>
<td>&#x3D;&#x3D;mousedown&#x3D;&#x3D;</td>
<td>鼠标按下时触发</td>
<td></td>
</tr>
<tr>
<td>&#x3D;&#x3D;mouseup&#x3D;&#x3D;</td>
<td>鼠标抬起时触发</td>
<td></td>
</tr>
<tr>
<td>&#x3D;&#x3D;mousemove&#x3D;&#x3D;</td>
<td>鼠标在元素上移动时触发</td>
<td></td>
</tr>
<tr>
<td>&#x3D;&#x3D;mouseenter&#x3D;&#x3D;</td>
<td>鼠标进入元素时触发（不冒泡）</td>
<td></td>
</tr>
<tr>
<td>&#x3D;&#x3D;mouseleave&#x3D;&#x3D;</td>
<td>鼠标离开元素时触发（不冒泡）</td>
<td></td>
</tr>
<tr>
<td>mouseover</td>
<td>鼠标进入元素时触发（冒泡）</td>
<td></td>
</tr>
<tr>
<td>mouseout</td>
<td>鼠标离开元素时触发（冒泡）</td>
<td></td>
</tr>
<tr>
<td>wheel</td>
<td>鼠标滚轮滚动时触发</td>
<td></td>
</tr>
</tbody></table>
<h6 id="键盘事件"><a href="#键盘事件" class="headerlink" title="键盘事件"></a>键盘事件</h6><table>
<thead>
<tr>
<th>事件名称</th>
<th>触发时机</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>keydown</td>
<td>某个键被按下时触发</td>
<td></td>
</tr>
<tr>
<td>keyup</td>
<td>某个键被抬起时触发</td>
<td></td>
</tr>
</tbody></table>
<h5 id="注册事件"><a href="#注册事件" class="headerlink" title="注册事件"></a>注册事件</h5><p>JS 提供了三种方式注册事件</p>
<p>方式 1：将事件注册写到元素上，这种方式基本被弃用</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;js代码&quot;</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>&#x3D;&#x3D;方式 2：使用 dom 属性注册事件&#x3D;&#x3D;</p>
<p>属性名为<code>on+事件类型</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 监听事件</span></span><br><span class="line">dom.<span class="property">onclick</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// 处理函数</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 移除监听事件</span></span><br><span class="line">dom.<span class="property">onclick</span> = <span class="literal">null</span>;</span><br></pre></td></tr></table></figure>

<p>这种方式的特点是：</p>
<ul>
<li>优点：易于监听、覆盖、移除</li>
<li>缺点：只能注册一个处理函数</li>
<li>缺点：某些事件不支持用这种方式注册</li>
</ul>
<p>&#x3D;&#x3D;方式 3：使用 addEventListener 方法注册事件&#x3D;&#x3D;</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">dom.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// 处理函数1 触发时this为当前dom</span></span><br><span class="line">&#125;);</span><br><span class="line">dom.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// 处理函数2</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>这是最完美的事件注册方式，如果要移除用这种方式注册的事件，需要改写代码</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">handler1</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// 处理函数1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">handler2</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// 处理函数2</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">dom.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, handler1);</span><br><span class="line">dom.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, handler2);</span><br><span class="line"></span><br><span class="line">dom.<span class="title function_">removeEventListener</span>(<span class="string">&#x27;click&#x27;</span>, handler1); <span class="comment">// 移除监听函数1</span></span><br></pre></td></tr></table></figure>

<h5 id="事件处理函数"><a href="#事件处理函数" class="headerlink" title="事件处理函数"></a>事件处理函数</h5><p>当事件发生时，会自动调用事件处理函数，并向函数传递一个参数，该参数称之为事件对象，里面包含了事件发生的相关信息，比如鼠标位置、键盘按键等等</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dom.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(e.<span class="property">clientX</span>); <span class="comment">//打印鼠标的横坐标</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>常见的事件对象有：<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/MouseEvent">鼠标事件对象</a>、<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/KeyboardEvent/KeyboardEvent">键盘事件对象</a></p>
<p><strong>另外，在事件处理函数中，<code>this</code>始终指向注册事件的 dom</strong></p>
<p><strong>练习题地址</strong>：[22. WebAPI-事件&#x2F;练习题 · 拾贰&#x2F;frontend-pre-javascript - 码云 - 开源中国 (gitee.com)](<a target="_blank" rel="noopener" href="https://gitee.com/xlt-vue/frontend-pre-javascript/tree/f4c888b710d0da44822eeb018fdfb183b652e0eb/22">https://gitee.com/xlt-vue/frontend-pre-javascript/tree/f4c888b710d0da44822eeb018fdfb183b652e0eb/22</a>. WebAPI-事件&#x2F;练习题)</p>
<h4 id="dom-进阶"><a href="#dom-进阶" class="headerlink" title="dom 进阶"></a>dom 进阶</h4><h5 id="事件默认行为"><a href="#事件默认行为" class="headerlink" title="事件默认行为"></a>事件默认行为</h5><p>某些元素的某些事件，浏览器会有自己的默认行为</p>
<p>比如：</p>
<ul>
<li>a 元素的 click 事件，浏览器会跳转页面</li>
<li>form 元素的 submit 事件，浏览器会提交表单，最终导致页面刷新</li>
<li>文本框的 keydown 事件，浏览器会将按键文本显示到文本框中</li>
<li>……</li>
</ul>
<p>如果我们要阻止浏览器的默认行为，就需要在对应时间中加入以下代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// e为事件对象</span></span><br><span class="line"><span class="keyword">var</span> link = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">link.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>,<span class="keyword">function</span>(<span class="params">e</span>)&#123;</span><br><span class="line">    e.<span class="title function_">preventDefault</span>();</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>练习题地址</strong>：[23. WebAPI-事件默认行为&#x2F;练习题 · 拾贰&#x2F;frontend-pre-javascript - 码云 - 开源中国 (gitee.com)](<a target="_blank" rel="noopener" href="https://gitee.com/xlt-vue/frontend-pre-javascript/tree/f4c888b710d0da44822eeb018fdfb183b652e0eb/23">https://gitee.com/xlt-vue/frontend-pre-javascript/tree/f4c888b710d0da44822eeb018fdfb183b652e0eb/23</a>. WebAPI-事件默认行为&#x2F;练习题)，可以了解一下表单校验js写法</p>
<h5 id="dom-尺寸和位置"><a href="#dom-尺寸和位置" class="headerlink" title="dom 尺寸和位置"></a>dom 尺寸和位置</h5><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2024/09/13/66e3e5a12f5a6.png" alt="尺寸1" style="zoom:50%;" />

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2024/09/13/66e3e5a187eb3.png" alt="尺寸2"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2024/09/13/66e3e5a0d33e8.png" alt="尺寸3"></p>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2024/09/13/66e3e5a084060.jpg" alt="尺寸4" style="zoom:50%;" />

<blockquote>
<p>调用<code>dom.scrollTo(x, y)</code>可以设置元素的滚动位置，x 和 y 分别表示 scrollLeft 和 scrollTop</p>
<p>该方法通用元素回到元素顶部<code>dom.scrollTo(0, 0)</code></p>
<p>如果要监听元素的滚动，可以监听事件类型：&#x3D;&#x3D;scroll&#x3D;&#x3D;</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Element/getBoundingClientRect">Element.getBoundingClientRect()</a></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2024/09/13/66e3e5a1b5635.png" alt="element-box-diagram"></p>
<blockquote>
<p>上图中的 top、left、right、bottom 均相对于视口</p>
</blockquote>
<p><strong>练习题：</strong>[24. WebAPI-DOM尺寸和位置&#x2F;练习题 · 拾贰&#x2F;frontend-pre-javascript - 码云 - 开源中国 (gitee.com)](<a target="_blank" rel="noopener" href="https://gitee.com/xlt-vue/frontend-pre-javascript/tree/f4c888b710d0da44822eeb018fdfb183b652e0eb/24">https://gitee.com/xlt-vue/frontend-pre-javascript/tree/f4c888b710d0da44822eeb018fdfb183b652e0eb/24</a>. WebAPI-DOM尺寸和位置&#x2F;练习题)，包括可拖动便签和触碰边缘反弹的小球</p>
<h5 id="事件传播机制"><a href="#事件传播机制" class="headerlink" title="事件传播机制"></a>事件传播机制</h5><p>事件捕获：从<code>window</code>开始发现也就是捕获，流程就是先发现<code>window</code>被点击了，然后发现<code>window</code>中的<code>document</code>被点击了，然后依次往下。。。</p>
<p>事件冒泡：从<code>button</code>被点击，其实也就是<code>div</code>被点击了，然后依次往上。。。</p>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2024/09/13/66e3e5a0a0542.jpg" alt="事件流" style="zoom: 50%;" />

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 在冒泡阶段触发</span></span><br><span class="line">div.<span class="property">onclick</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在捕获阶段触发事件 第三个参数控制是否在捕获阶段触发事件</span></span><br><span class="line">div.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;, <span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在冒泡阶段触发事件（默认）</span></span><br><span class="line">div.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;, <span class="literal">false</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 事件处理函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">handler</span>(<span class="params">e</span>) &#123;</span><br><span class="line">  <span class="comment">// 以前的面试题，e.target和this的关系，如果在body绑定点击事件，你点击了button，此时this是body，e.target是button </span></span><br><span class="line">  e.<span class="property">target</span>; <span class="comment">// 获取事件源（目标阶段的dom）</span></span><br><span class="line">  e.<span class="title function_">stopPropagation</span>(); <span class="comment">// 阻止事件继续冒泡</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>事件委托</strong>：就是将子元素共有的同功能的方法绑定到父元素上，然后通过事件冒泡来触发。</p>
<ul>
<li>好处：节省资源，提高效率，因为每绑定一个方法都要开辟一个堆内存，占用内存空间。还有就是每创建一个新的子元素，不需要再给它绑定方法了。</li>
</ul>
<h2 id="三、技巧"><a href="#三、技巧" class="headerlink" title="三、技巧"></a>三、技巧</h2><h3 id="1-在循环中注册事件"><a href="#1-在循环中注册事件" class="headerlink" title="1.在循环中注册事件"></a>1.在循环中注册事件</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 经典面试题 下面代码会打印什么，如何让它正常打印0，1，2</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(i);</span><br><span class="line">  &#125;, <span class="number">1000</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 最后打印出来 3 3 3 原因：函数中的i是外部的i，也就是全局作用域的i,因为变量提升，上面的代码可以看成下面,也就是全局作用域中只有一个i。</span></span><br><span class="line"><span class="comment">// 又因为js是异步的，下面代码可以理解为i=0时，开一个计时器，i=1时再开一个计时器，最后i=3了，过一秒后计时器开始执行打印 3 3 3</span></span><br><span class="line"><span class="keyword">var</span> i;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(i);</span><br><span class="line">  &#125;, <span class="number">1000</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 解决方法1：用let代替var,形成块级作用域，每次都是一个新i</span></span><br><span class="line"><span class="comment">// 解决方法2：每次循环都产生一个新的作用域，作用域中有一个变量，值和这一次循环的i相同。使用函数来实现一个新的作用域，代码如下</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">  <span class="comment">// 每次循环，调用函数，传入不同的i，保留临时变量</span></span><br><span class="line">  <span class="title function_">help</span>(i)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">help</span>(<span class="params">i</span>) &#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(i)</span><br><span class="line">  &#125;, <span class="number">1000</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 简写</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">  <span class="comment">// 立即执行函数，创建一个新的作用域</span></span><br><span class="line">  (<span class="keyword">function</span> (<span class="params">i</span>) &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(i)</span><br><span class="line">    &#125;, <span class="number">1000</span>)</span><br><span class="line">  &#125;)(i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 有10个按钮，如何实现点击第i个，打印i</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 方法一：事件委托</span></span><br><span class="line"><span class="keyword">var</span> btns = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;button&#x27;</span>);</span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">onclick</span> = <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> target = e.<span class="property">target</span>;</span><br><span class="line">  <span class="keyword">if</span> (target.<span class="property">nodeName</span> === <span class="string">&#x27;BUTTON&#x27;</span>) &#123;</span><br><span class="line">    <span class="comment">// target.parentNode.children 是伪数组，需要转换为数组</span></span><br><span class="line">    <span class="keyword">var</span> children = <span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">slice</span>.<span class="title function_">call</span>(target.<span class="property">parentNode</span>.<span class="property">children</span>);</span><br><span class="line">    <span class="keyword">var</span> index = children.<span class="title function_">indexOf</span>(target);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(index)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 方法二：立即执行函数，建立一个新的作用域</span></span><br><span class="line"><span class="keyword">var</span> btns = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;button&#x27;</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; btns.<span class="property">length</span>; i++) &#123;</span><br><span class="line">  (<span class="keyword">function</span> (<span class="params">i</span>) &#123;</span><br><span class="line">    btns[i].<span class="property">onclick</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(i)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)(i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>练习题</strong>：[26. 技巧-在循环中注册事件&#x2F;练习题 · 拾贰&#x2F;frontend-pre-javascript - 码云 - 开源中国 (gitee.com)](<a target="_blank" rel="noopener" href="https://gitee.com/xlt-vue/frontend-pre-javascript/tree/f4c888b710d0da44822eeb018fdfb183b652e0eb/26">https://gitee.com/xlt-vue/frontend-pre-javascript/tree/f4c888b710d0da44822eeb018fdfb183b652e0eb/26</a>. 技巧-在循环中注册事件&#x2F;练习题)</p>
<h3 id="2-回调函数"><a href="#2-回调函数" class="headerlink" title="2.回调函数"></a>2.回调函数</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">filter</span>(<span class="params">arr, fn</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> result = [];</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">var</span> item = arr[i];</span><br><span class="line">    <span class="keyword">if</span> (<span class="title function_">fn</span>(item)) &#123;</span><br><span class="line">      result.<span class="title function_">push</span>(item)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> newArr = <span class="title function_">filter</span>(arr,<span class="keyword">function</span>(<span class="params">item</span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> ...</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="3-函数防抖"><a href="#3-函数防抖" class="headerlink" title="3.函数防抖"></a>3.函数防抖</h3><p>满足两个条件：</p>
<ul>
<li>函数操作很耗时</li>
<li>函数频繁触发，但是前面的触发没有意义，只有最后一次有意义</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">debounce</span>(<span class="params">fn, duration</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> timer;</span><br><span class="line">    <span class="comment">// 这里的this 指向的是window</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"><span class="variable language_">arguments</span></span>) &#123;</span><br><span class="line">        <span class="built_in">clearTimeout</span>(timer)</span><br><span class="line">        <span class="keyword">var</span> curThis = <span class="variable language_">this</span></span><br><span class="line">        <span class="keyword">var</span> args = <span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">slice</span>.<span class="title function_">call</span>(<span class="variable language_">arguments</span>, <span class="number">0</span>) <span class="comment">// arguments 是伪数组，需要转换成数组</span></span><br><span class="line">        timer = <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            fn.<span class="title function_">apply</span>(curThis, args)</span><br><span class="line">        &#125;, duration)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> newHandler = <span class="title function_">debounce</span>(<span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;debounce&#x27;</span>, e, <span class="variable language_">this</span>.<span class="property">value</span>)</span><br><span class="line">&#125;, <span class="number">2000</span>)</span><br><span class="line"><span class="keyword">var</span> inp = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;input&#x27;</span>)</span><br><span class="line">inp.<span class="title function_">addEventListener</span>(<span class="string">&#x27;input&#x27;</span>, newHandler)</span><br></pre></td></tr></table></figure>

<h3 id="4-正则表达式"><a href="#4-正则表达式" class="headerlink" title="4.正则表达式"></a>4.正则表达式</h3><h4 id="创建正则对象"><a href="#创建正则对象" class="headerlink" title="创建正则对象"></a>创建正则对象</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 构造函数</span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="string">&#x27;规则&#x27;</span>, <span class="string">&#x27;标识&#x27;</span>)</span><br><span class="line"><span class="comment">// 字面量书写</span></span><br><span class="line">/规则/标识</span><br><span class="line"></span><br><span class="line"><span class="comment">// 例子</span></span><br><span class="line">构造函数：<span class="keyword">var</span> reg = <span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;i&#x27;</span>)</span><br><span class="line">字面量：<span class="keyword">var</span> reg = <span class="regexp">/a/i</span>;</span><br></pre></td></tr></table></figure>

<h4 id="正则常用方法"><a href="#正则常用方法" class="headerlink" title="正则常用方法"></a>正则常用方法</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// reg是正则对象</span></span><br><span class="line">reg.<span class="title function_">test</span>(<span class="string">&#x27;字符串&#x27;</span>); <span class="comment">// 验证字符串是否满足规则</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// reg是正则对象，str是字符串</span></span><br><span class="line">str.<span class="title function_">replace</span>(reg, <span class="string">&#x27;替换目标&#x27;</span>); <span class="comment">// 将字符串中匹配正则的部分替换为目标</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 将字符串中匹配正则的部分传入到回调函数的参数中，将函数的返回结果进行替换</span></span><br><span class="line">str.<span class="title function_">replace</span>(reg, <span class="keyword">function</span>(<span class="params">s</span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&#x27;替换目标&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="标识"><a href="#标识" class="headerlink" title="标识"></a>标识</h4><table>
<thead>
<tr>
<th>标识字符</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>i</td>
<td>不区分大小写</td>
</tr>
<tr>
<td>g</td>
<td>全局匹配，如果没有此标识，只会匹配第一个</td>
</tr>
<tr>
<td>m</td>
<td>多行匹配</td>
</tr>
</tbody></table>
<h4 id="规则"><a href="#规则" class="headerlink" title="规则"></a>规则</h4><p>详见：<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Regular_Expressions">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Regular_Expressions</a></p>
<h5 id="字符匹配规则"><a href="#字符匹配规则" class="headerlink" title="字符匹配规则"></a>字符匹配规则</h5><table>
<thead>
<tr>
<th>规则书写</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td><code>直接书写一个普通字符</code></td>
<td>匹配书写的字符</td>
</tr>
<tr>
<td><code>[字符规则]</code></td>
<td>匹配[]中出现的所有字符规则</td>
</tr>
<tr>
<td><code>[^字符串规则]</code></td>
<td>匹配[]中<strong>没有</strong>出现的字符规则</td>
</tr>
<tr>
<td><code>.</code></td>
<td>匹配任意字符</td>
</tr>
<tr>
<td><code>\d</code></td>
<td>匹配数字，等价于 <code>[0-9]</code></td>
</tr>
<tr>
<td><code>\D</code></td>
<td>匹配非数字</td>
</tr>
<tr>
<td><code>\s</code></td>
<td>匹配空白字符，包括空格、回车、换行、制表</td>
</tr>
<tr>
<td><code>\S</code></td>
<td>匹配所有非空白字符</td>
</tr>
<tr>
<td><code>\w</code></td>
<td>匹配单词字符，等价于 <code>[A-Za-z0-9_]</code></td>
</tr>
<tr>
<td><code>\W</code></td>
<td>匹配非单词字符，等价于 <code>[^A-Za-z0-9_]</code></td>
</tr>
<tr>
<td><code>^</code></td>
<td>匹配字符串开始，写到规则开始位置</td>
</tr>
<tr>
<td><code>$</code></td>
<td>匹配字符串结束，写到规则结束位置</td>
</tr>
<tr>
<td><code>\\</code></td>
<td>匹配<code>\</code></td>
</tr>
</tbody></table>
<h5 id="连续的规则"><a href="#连续的规则" class="headerlink" title="连续的规则"></a>连续的规则</h5><p>多个规则可以连续书写，用以匹配多个字符，例如：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/\d[a-zA-Z]/  <span class="comment">// 匹配以1个数字紧跟一个字母</span></span><br></pre></td></tr></table></figure>

<p>若多个规则是一个或者的关系，使用<code>|</code>分割</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/\d[a-zA-Z]|[a-zA-Z]\d/ <span class="comment">// 匹配以1个数字紧跟一个字母，或者一个字母紧跟一个数字</span></span><br></pre></td></tr></table></figure>

<h5 id="规则的重复（量词）"><a href="#规则的重复（量词）" class="headerlink" title="规则的重复（量词）"></a>规则的重复（量词）</h5><p>一个或一段规则之后，可以紧跟一个量词，表示前面的规则出现的次数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/[a-zA-Z]\d&#123;<span class="number">3</span>&#125;/  <span class="comment">// 匹配1个字母，后面跟上连续的3个数字，&#123;3&#125;是量词，应用的规则是\d</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/([a-zA-Z]\d)&#123;<span class="number">3</span>&#125;/  <span class="comment">// &#123;3&#125;是量词，应用的规则是 [a-zA-Z]\d</span></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>量词</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td><code>&#123;n&#125;</code></td>
<td>出现n次</td>
</tr>
<tr>
<td><code>&#123;n, m&#125;</code></td>
<td>出现n-m次</td>
</tr>
<tr>
<td><code>&#123;n,&#125;</code></td>
<td>至少出现n次</td>
</tr>
<tr>
<td><code>*</code></td>
<td>出现0次或多次，等价于<code>&#123;0,&#125;</code></td>
</tr>
<tr>
<td><code>?</code></td>
<td>出现0次或一次，等价于<code>&#123;0,1&#125;</code></td>
</tr>
<tr>
<td><code>+</code></td>
<td>出现1次或多次，等价于<code>&#123;1,&#125;</code></td>
</tr>
</tbody></table>
<h4 id="练习"><a href="#练习" class="headerlink" title="练习"></a>练习</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 邮箱</span></span><br><span class="line"><span class="keyword">var</span> email = <span class="regexp">/^.+@[^\s\.]+(\.[^\s\.]+)&#123;1,2&#125;$/</span>;</span><br><span class="line"><span class="comment">// 价格 格式：1.00</span></span><br><span class="line"><span class="keyword">var</span> price = <span class="regexp">/^[1-9]\d*|0)\.\d&#123;2&#125;$/</span></span><br></pre></td></tr></table></figure>



<h3 id="5-浏览器的渲染流程"><a href="#5-浏览器的渲染流程" class="headerlink" title="5.浏览器的渲染流程"></a>5.浏览器的渲染流程</h3><h4 id="解析HTML"><a href="#解析HTML" class="headerlink" title="解析HTML"></a>解析HTML</h4><p>浏览器从网络或本地文件中获取到HTML源代码，然后从上到下的解析源代码</p>
<p>若解析过程中，读取到CSS或JS，<strong>停止解析（阻塞）</strong>，转而解析CSS或执行JS<code>(注意：加载图片资源不会导致阻塞)</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;./css/index.css&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello World!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./js/index.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Lorem<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2024/09/24/66f28b8823f46.png" alt="image-20211222115303832" style="zoom:50%;" />

<blockquote>
<p><strong>为什么要将CSS写到页面的开头，而JS写到页面的最后？</strong></p>
<p>将CSS写到页面开头，是为了让浏览器尽快读取并解析样式，避免给用户看到丑陋的页面，也是为了避免页面闪烁</p>
<p>将JS代码写到最后，是为了让浏览器尽快呈现页面给用户，然后再执行JS完成交互功能</p>
</blockquote>
<h4 id="生成DOM树"><a href="#生成DOM树" class="headerlink" title="生成DOM树"></a>生成DOM树</h4><p><strong>浏览器会一边解析HTML，一边生成DOM树</strong>，我们在JS中获取到的DOM就是DOM树中的DOM</p>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2024/09/24/66f28b88410e2.png" alt="image-20211120171428854" style="zoom:50%;" />

<blockquote>
<p>当DOM树完全生成好后，会触发<code>DOMContentLoaded</code>事件</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 场景：把script写在body前面的时候，如果script标签中有需要获取dom元素的行为，可以写在下面函数里</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;DOMContentLoaded&quot;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;DOM树已全部生成完毕&quot;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>当页面中的所有外部资源全部加载完毕后，会触发<code>load</code>事件</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="property">onload</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;所有资源已加载完成&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>load</code>事件也可以针对单个外部资源使用，资源加载完成后触发</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> img1 = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;img1&#x27;</span>);</span><br><span class="line">img1.<span class="property">onload</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;图片加载完成。。&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="生成渲染树"><a href="#生成渲染树" class="headerlink" title="生成渲染树"></a>生成渲染树</h4><p><strong>浏览器一边生成DOM树，一边计算DOM树中每个节点的样式规则，最终形成渲染树</strong>。</p>
<p>CSS属性的计算过程，发生在这一个步骤</p>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2024/09/24/66f28b885f70d.png" alt="image-20211120171550663" style="zoom:50%;" />

<h4 id="布局-layout-重排-reflow"><a href="#布局-layout-重排-reflow" class="headerlink" title="布局 layout &#x2F; 重排 reflow"></a>布局 layout &#x2F; 重排 reflow</h4><p>这个步骤又称之为<strong>reflow（回流、重排）</strong>，是指浏览器一边生成渲染树，一边计算每个元素最终的尺寸和位置  <code>注：css3动画不会导致重排</code></p>
<p>完成后，页面中的所有元素的位置和尺寸就确定下来了，即将被渲染到页面。</p>
<p>这个步骤会在页面之后的运行过程中不断的重复，<strong>下面的JS操作均会导致reflow</strong>：</p>
<ul>
<li>获取元素的尺寸和位置</li>
<li>直接或间接改变元素的尺寸和位置</li>
</ul>
<blockquote>
<p>reflow非常耗时，浏览器为了提升性能，对JS中<strong>连续</strong>导致reflow的代码，把reflow的时间点延迟到结束后进行，但在此过程中，如果遇到了获取尺寸和位置的代码，浏览器会迫不得已立即reflow</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">dom.<span class="property">style</span>.<span class="property">width</span> = <span class="string">&#x27;100px&#x27;</span></span><br><span class="line">dom.<span class="property">style</span>.<span class="property">height</span> = <span class="string">&#x27;200px&#x27;</span></span><br><span class="line">dom.<span class="property">style</span>.<span class="property">left</span> = <span class="string">&#x27;10px&#x27;</span></span><br><span class="line">dom.<span class="property">style</span>.<span class="property">top</span> = <span class="string">&#x27;10px&#x27;</span></span><br></pre></td></tr></table></figure>

<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2024/09/24/66f28b8823f45.png" alt="image-20211222145016258" style="zoom:50%;" />

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">dom.<span class="property">style</span>.<span class="property">width</span> = <span class="string">&#x27;100px&#x27;</span></span><br><span class="line">dom.<span class="property">style</span>.<span class="property">height</span> = <span class="string">&#x27;200px&#x27;</span></span><br><span class="line">dom.<span class="property">clientHeight</span>; <span class="comment">// 读取高度，导致强行reflow</span></span><br><span class="line">dom.<span class="property">style</span>.<span class="property">left</span> = <span class="string">&#x27;10px&#x27;</span></span><br><span class="line">dom.<span class="property">style</span>.<span class="property">top</span> = <span class="string">&#x27;10px&#x27;</span></span><br></pre></td></tr></table></figure>

<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2024/09/24/66f28b882627d.png" alt="image-20211222145207563" style="zoom:50%;" />
</blockquote>
<h4 id="重绘-repaint"><a href="#重绘-repaint" class="headerlink" title="重绘 repaint"></a>重绘 repaint</h4><p>浏览器一边reflow，一边进行生成对应的图形绘制到页面，绘制的过程称之为repaint</p>
<p><strong>所有会导致reflow的代码，均会导致repaint</strong></p>
<p>绘制的过程是靠GPU完成的，速度非常快，因此，<strong>相对于导致reflow的代码，仅会导致repaint的代码效率会高出很多</strong></p>
<p>凡是不会影响盒子排列，仅影响盒子外观的代码都不会导致reflow，仅导致repaint，例如：</p>
<ul>
<li>改变背景颜色</li>
<li>改变字体颜色</li>
<li>圆角边框</li>
<li>背景图</li>
<li>……</li>
</ul>
<h3 id="6-异常"><a href="#6-异常" class="headerlink" title="6.异常"></a>6.异常</h3><blockquote>
<p>本节课的重点是<strong>异常的分类</strong></p>
<p>剩余两部分的知识，绝大部分情况下都用不到，除非你要写一些 <em>高端</em> 的代码</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2024/09/24/66f28c4145b9a.png" alt="image-20211222175234095"></p>
<p><strong>异常并非坏事，它可以让开发人员及时发现错误、定位错误，甚至在某些时候，我们还需要故意的抛出异常</strong></p>
<h4 id="异常的分类"><a href="#异常的分类" class="headerlink" title="异常的分类"></a>异常的分类</h4><p>在JS中，异常表现为一个对象，不同的对象表达了不同的异常类型，不同类型的异常对应到不同的错误</p>
<table>
<thead>
<tr>
<th>异常类型</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td><strong>SyntaxError</strong></td>
<td>语法错误</td>
</tr>
<tr>
<td><strong>ReferenceError</strong></td>
<td>引用错误，往往是使用了未定义的变量或函数</td>
</tr>
<tr>
<td><strong>TypeError</strong></td>
<td>类型错误，往往是使用了一个对象中不存在的成员</td>
</tr>
</tbody></table>
<p><strong>每个异常都是一个对象，通过对应的构造函数创建</strong></p>
<blockquote>
<p>所有的异常构造器都继承自Error，更多信息参见<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Error">MDN</a></p>
</blockquote>
<p>当代码运行过程中出现错误时，JS会：</p>
<ol>
<li>自动创建对应的异常对象，抛出错误</li>
<li>程序终止运行</li>
<li>控制台中会显示异常对象</li>
</ol>
<p>每个异常对象都至少记录了<strong>两个关键信息</strong>：</p>
<ol>
<li>错误消息描述：描述异常出现的原因</li>
<li>调用堆栈信息：描述异常出现的位置</li>
</ol>
<h4 id="捕获异常"><a href="#捕获异常" class="headerlink" title="捕获异常"></a>捕获异常</h4><p>捕获异常就是处理错误，当错误发生后，我们对错误进行相应的处理，让程序不至于终止</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">  <span class="comment">// 代码1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">catch</span>(err)&#123;</span><br><span class="line">  <span class="comment">// 代码2：当代码1出现异常后，会执行这里的代码，异常对象会传递给err</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">finally</span>&#123;</span><br><span class="line">  <span class="comment">// 代码3：可省略。无论是否有异常，都会执行</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 无异常的执行顺序：代码1 --&gt; 代码3</span></span><br><span class="line"><span class="comment">// 有异常的执行顺序：代码1 --&gt; 出现异常，中断代码1的执行 --&gt; 代码2 --&gt; 代码3</span></span><br></pre></td></tr></table></figure>

<p><strong>在绝大部分时候，我们都无须捕获异常，除非满足以下要求：</strong></p>
<ol>
<li>我们能够预知某段代码会出现异常</li>
<li>我们知道出现异常后要做什么</li>
</ol>
<p>上面的条件任意一个不满足，都不应该处理异常</p>
<p><strong>永远不能为了不报错而捕获异常！</strong></p>
<p>下面是一段可能使用异常捕获的伪代码</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  <span class="keyword">var</span> heros = network.<span class="title function_">getHeros</span>(); <span class="comment">// 从网络获取王者荣耀英雄数据，得到英雄数组</span></span><br><span class="line">  <span class="title function_">createHTML</span>(heros); <span class="comment">// 将数组生成HTML</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">catch</span>(err) &#123;</span><br><span class="line">  <span class="comment">// 出现网络故障，给用户显示一个提示框</span></span><br><span class="line">  <span class="title function_">showErrorDialog</span>(<span class="string">&#x27;网络故障，请检查您的网络是否连接正常。故障原因：&#x27;</span> + err.<span class="property">message</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="手动抛出异常"><a href="#手动抛出异常" class="headerlink" title="手动抛出异常"></a>手动抛出异常</h4><p>不仅浏览器会自动给我们抛出异常，我们还可以手动的抛出异常</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">throw</span> 异常对象; <span class="comment">// 当代码运行到这里，会终止执行，抛出异常对象，效果和浏览器抛出的错误完全一样</span></span><br></pre></td></tr></table></figure>

<p>当编写函数时，如果满足下面三个条件，就可以选择抛出异常：</p>
<ol>
<li>预知执行过程中可能会出现某种错误</li>
<li>浏览器不会抛出这个错误</li>
<li>该函数无法处理这个错误</li>
</ol>
<p>下面展现了一个需要抛出异常的例子</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 得到两个数字之和</span></span><br><span class="line"><span class="comment"> * 若传递的不是数字，则会抛出TypeError</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number</span>&#125; a 数字1</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number</span>&#125; b 数字2</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">number</span>&#125; 两数之和</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sum</span>(<span class="params">a, b</span>)&#123;</span><br><span class="line">  <span class="keyword">if</span>(<span class="keyword">typeof</span> a !== <span class="string">&#x27;number&#x27;</span> || <span class="keyword">typeof</span> b !== <span class="string">&#x27;number&#x27;</span>)&#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">TypeError</span>(<span class="string">&#x27;必须传入两个数字才能求和&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>规范：如果某个函数需要抛出异常，一定要在函数的文档注释中阐述清楚</strong></p>
<h4 id="练习-1"><a href="#练习-1" class="headerlink" title="练习"></a>练习</h4><p>说出下面的错误描述的含义，以及该错误发生的原因</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2024/09/24/66f28cd266b74.png" alt="image-20211223103308973"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2024/09/24/66f28cd25c9b8.png" alt="image-20211223103332002"></p>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2024/09/24/66f28cd2690ab.png" alt="image-20211223103347139" style="zoom:50%;" />

<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2024/09/24/66f28cd268fff.png" alt="image-20211223103450241" style="zoom:50%;" />

<h3 id="7-断点调试"><a href="#7-断点调试" class="headerlink" title="7.断点调试"></a>7.断点调试</h3><p><strong>复杂程序错误定位的终极方法</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 方法1：浏览器打断点</span></span><br><span class="line"><span class="comment">// 方法2：代码打断点</span></span><br><span class="line"><span class="keyword">debugger</span>;</span><br></pre></td></tr></table></figure>
</article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="头像"><img class="post-copyright__author_img_back" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://s2.loli.net/2023/09/01/NzaWb31teHk5UuX.jpg" title="头像" alt="头像"><img class="post-copyright__author_img_front" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://s2.loli.net/2023/09/01/NzaWb31teHk5UuX.jpg" title="头像" alt="头像"></a><div class="post-copyright__author_name">拾贰</div><div class="post-copyright__author_desc">得失从缘,心无增减</div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="该文章为原创文章，注意版权协议" href="http://example.com/2024/09/09/JS%E6%94%B6%E5%AE%98-%E4%BA%8C/">原创</a><a class="post-copyright-title"><span onclick="rm.copyPageUrl('http://example.com/2024/09/09/JS%E6%94%B6%E5%AE%98-%E4%BA%8C/')">JS收官(二)</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"><div class="post-reward" onclick="anzhiyu.addRewardMask()"><div class="reward-button button--animated" title="赞赏作者"><i class="anzhiyufont anzhiyu-icon-hand-heart-fill"></i>打赏作者</div><div class="reward-main"><div class="reward-all"><span class="reward-title">感谢你赐予我前进的力量</span><ul class="reward-group"><li class="reward-item"><a href="https://s2.loli.net/2023/09/01/q6Stn5jbXVzxHmC.png" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://s2.loli.net/2023/09/01/q6Stn5jbXVzxHmC.png" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://s2.loli.net/2023/09/01/Qa1oSxc3nlEeGOt.png" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://s2.loli.net/2023/09/01/Qa1oSxc3nlEeGOt.png" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul><a class="reward-main-btn" href="/about/#about-reward" target="_blank"><div class="reward-text">赞赏者名单</div><div class="reward-dec">因为你们的支持让我意识到写文章的价值🙏</div></a></div></div></div><div id="quit-box" onclick="anzhiyu.removeRewardMask()" style="display: none"></div></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="使用手机访问这篇文章"><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="http://example.com/2024/09/09/JS%E6%94%B6%E5%AE%98-%E4%BA%8C/"></div><div class="reward-dec">使用手机访问这篇文章</div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=JS收官(二)&amp;url=http://example.com/2024/09/09/JS%E6%94%B6%E5%AE%98-%E4%BA%8C/&amp;pic=" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><script>function copyCurrentPageUrl() {
  var currentPageUrl = window.location.href;
  var input = document.createElement("input");
  input.setAttribute("value", currentPageUrl);
  document.body.appendChild(input);
  input.select();
  input.setSelectionRange(0, 99999);
  document.execCommand("copy");
  document.body.removeChild(input);
}</script><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="复制链接" onclick="copyCurrentPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">拾贰</a>！</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__tag-list"><a class="post-meta__box__tags" href="/tags/JavaScript/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>JavaScript<span class="tagsPageCount">2</span></a></div></div></div><div class="post_share"><div class="social-share" data-image="https://s2.loli.net/2023/09/01/NzaWb31teHk5UuX.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"/><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer="defer"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-full"><a href="/2024/09/03/JS%E6%94%B6%E5%AE%98-%E4%B8%80/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">JS收官(一)</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="anzhiyufont anzhiyu-icon-thumbs-up fa-fw" style="font-size: 1.5rem; margin-right: 4px"></i><span>喜欢这篇文章的人也看了</span></div><div class="relatedPosts-list"><div><a href="/2024/09/03/JS%E6%94%B6%E5%AE%98-%E4%B8%80/" title="JS收官(一)"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2024-09-03</div><div class="title">JS收官(一)</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="author-info__sayhi" id="author-info__sayhi" onclick="anzhiyu.changeSayHelloText()"></div><div class="author-info-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://s2.loli.net/2023/09/01/NzaWb31teHk5UuX.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-status"><img class="g-status" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@latest/Sticker-100/滑稽被子.png" alt="status"/></div></div><div class="author-info__description"><div style="line-height:1.38;margin:0.6rem 0;text-align:justify;color:rgba(255, 255, 255, 0.8);">这有关于<b style="color:#fff">拾贰进行项目开发</b>相关的问题和看法，还有<b style="color:#fff">一些其他的知识</b>和<b style="color:#fff">分享</b>。</div><div style="line-height:1.38;margin:0.6rem 0;text-align:justify;color:rgba(255, 255, 255, 0.8);">相信你可以在这里找到对你有用的<b style="color:#fff">知识</b>和<b style="color:#fff">教程</b>。</div></div><div class="author-info__bottom-group"><a class="author-info__bottom-group-left" href="/"><h1 class="author-info__name">拾贰</h1><div class="author-info__desc">得失从缘,心无增减</div></a><div class="card-info-social-icons is-center"><a class="social-icon faa-parent animated-hover" href="https://github.com/tentwo24" target="_blank" title="Github"><i class="anzhiyufont anzhiyu-icon-github"></i></a><a class="social-icon faa-parent animated-hover" href="https://space.bilibili.com/2104980654" target="_blank" title="BiliBili"><i class="anzhiyufont anzhiyu-icon-bilibili"></i></a></div></div></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bullhorn anzhiyu-shake"></i><span>公告</span></div><div class="announcement_content">欢迎来看我的博客鸭~</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>文章目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E6%A0%87%E5%87%86%E5%BA%93"><span class="toc-number">1.</span> <span class="toc-text">一、标准库</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%8C%85%E8%A3%85%E7%B1%BB"><span class="toc-number">1.1.</span> <span class="toc-text">1.包装类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Number"><span class="toc-number">1.1.1.</span> <span class="toc-text">Number</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#String"><span class="toc-number">1.1.2.</span> <span class="toc-text">String</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%95%B0%E5%AD%A6"><span class="toc-number">1.2.</span> <span class="toc-text">2.数学</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%97%A5%E6%9C%9F"><span class="toc-number">1.3.</span> <span class="toc-text">3.日期</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%B6%E9%97%B4%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86"><span class="toc-number">1.3.1.</span> <span class="toc-text">时间基础知识</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8D%95%E4%BD%8D"><span class="toc-number">1.3.1.1.</span> <span class="toc-text">单位</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#GMT%E5%92%8CUTC"><span class="toc-number">1.3.1.2.</span> <span class="toc-text">GMT和UTC</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Unix-%E6%97%B6%E9%97%B4%E6%88%B3"><span class="toc-number">1.3.1.3.</span> <span class="toc-text">Unix 时间戳</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%A8%8B%E5%BA%8F%E4%B8%AD%E7%9A%84%E6%97%B6%E9%97%B4%E5%A4%84%E7%90%86"><span class="toc-number">1.3.1.4.</span> <span class="toc-text">程序中的时间处理</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%A5%E6%9C%9FAPI"><span class="toc-number">1.3.2.</span> <span class="toc-text">日期API</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%AF%B9%E8%B1%A1"><span class="toc-number">1.4.</span> <span class="toc-text">4.对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E6%95%B0%E7%BB%84"><span class="toc-number">1.5.</span> <span class="toc-text">5.数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E5%87%BD%E6%95%B0"><span class="toc-number">1.6.</span> <span class="toc-text">6.函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E5%85%B8%E5%9E%8B%E4%BE%8B%E9%A2%98-%E9%83%A8%E5%88%86"><span class="toc-number">1.7.</span> <span class="toc-text">7.典型例题(部分)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81WebAPI"><span class="toc-number">2.</span> <span class="toc-text">二、WebAPI</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-BOM"><span class="toc-number">2.1.</span> <span class="toc-text">1.BOM</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#window"><span class="toc-number">2.1.1.</span> <span class="toc-text">window</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#window-location"><span class="toc-number">2.1.2.</span> <span class="toc-text">window.location</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#window-history"><span class="toc-number">2.1.3.</span> <span class="toc-text">window.history</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-DOM"><span class="toc-number">2.2.</span> <span class="toc-text">2.DOM</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96-dom"><span class="toc-number">2.2.1.</span> <span class="toc-text">获取 dom</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA-dom"><span class="toc-number">2.2.2.</span> <span class="toc-text">创建 dom</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9B%B4%E6%94%B9-dom-%E7%BB%93%E6%9E%84"><span class="toc-number">2.2.3.</span> <span class="toc-text">更改 dom 结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#dom-%E5%B1%9E%E6%80%A7"><span class="toc-number">2.2.4.</span> <span class="toc-text">dom 属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#dom-%E5%86%85%E5%AE%B9"><span class="toc-number">2.2.5.</span> <span class="toc-text">dom 内容</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#dom-%E6%A0%B7%E5%BC%8F"><span class="toc-number">2.2.6.</span> <span class="toc-text">dom 样式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9B%91%E5%90%AC-dom-%E4%BA%8B%E4%BB%B6"><span class="toc-number">2.2.7.</span> <span class="toc-text">监听 dom 事件</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.2.7.1.</span> <span class="toc-text">事件类型</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%A1%A8%E5%8D%95%E7%B1%BB%E4%BA%8B%E4%BB%B6"><span class="toc-number">2.2.7.1.1.</span> <span class="toc-text">表单类事件</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E9%BC%A0%E6%A0%87%E7%B1%BB%E4%BA%8B%E4%BB%B6"><span class="toc-number">2.2.7.1.2.</span> <span class="toc-text">鼠标类事件</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E9%94%AE%E7%9B%98%E4%BA%8B%E4%BB%B6"><span class="toc-number">2.2.7.1.3.</span> <span class="toc-text">键盘事件</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B3%A8%E5%86%8C%E4%BA%8B%E4%BB%B6"><span class="toc-number">2.2.7.2.</span> <span class="toc-text">注册事件</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E5%87%BD%E6%95%B0"><span class="toc-number">2.2.7.3.</span> <span class="toc-text">事件处理函数</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#dom-%E8%BF%9B%E9%98%B6"><span class="toc-number">2.2.8.</span> <span class="toc-text">dom 进阶</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6%E9%BB%98%E8%AE%A4%E8%A1%8C%E4%B8%BA"><span class="toc-number">2.2.8.1.</span> <span class="toc-text">事件默认行为</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#dom-%E5%B0%BA%E5%AF%B8%E5%92%8C%E4%BD%8D%E7%BD%AE"><span class="toc-number">2.2.8.2.</span> <span class="toc-text">dom 尺寸和位置</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6%E4%BC%A0%E6%92%AD%E6%9C%BA%E5%88%B6"><span class="toc-number">2.2.8.3.</span> <span class="toc-text">事件传播机制</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E6%8A%80%E5%B7%A7"><span class="toc-number">3.</span> <span class="toc-text">三、技巧</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%9C%A8%E5%BE%AA%E7%8E%AF%E4%B8%AD%E6%B3%A8%E5%86%8C%E4%BA%8B%E4%BB%B6"><span class="toc-number">3.1.</span> <span class="toc-text">1.在循环中注册事件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0"><span class="toc-number">3.2.</span> <span class="toc-text">2.回调函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%87%BD%E6%95%B0%E9%98%B2%E6%8A%96"><span class="toc-number">3.3.</span> <span class="toc-text">3.函数防抖</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">3.4.</span> <span class="toc-text">4.正则表达式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%AD%A3%E5%88%99%E5%AF%B9%E8%B1%A1"><span class="toc-number">3.4.1.</span> <span class="toc-text">创建正则对象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AD%A3%E5%88%99%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">3.4.2.</span> <span class="toc-text">正则常用方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%87%E8%AF%86"><span class="toc-number">3.4.3.</span> <span class="toc-text">标识</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%84%E5%88%99"><span class="toc-number">3.4.4.</span> <span class="toc-text">规则</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E5%8C%B9%E9%85%8D%E8%A7%84%E5%88%99"><span class="toc-number">3.4.4.1.</span> <span class="toc-text">字符匹配规则</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%BF%9E%E7%BB%AD%E7%9A%84%E8%A7%84%E5%88%99"><span class="toc-number">3.4.4.2.</span> <span class="toc-text">连续的规则</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%A7%84%E5%88%99%E7%9A%84%E9%87%8D%E5%A4%8D%EF%BC%88%E9%87%8F%E8%AF%8D%EF%BC%89"><span class="toc-number">3.4.4.3.</span> <span class="toc-text">规则的重复（量词）</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0"><span class="toc-number">3.4.5.</span> <span class="toc-text">练习</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E6%B8%B2%E6%9F%93%E6%B5%81%E7%A8%8B"><span class="toc-number">3.5.</span> <span class="toc-text">5.浏览器的渲染流程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E6%9E%90HTML"><span class="toc-number">3.5.1.</span> <span class="toc-text">解析HTML</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%9F%E6%88%90DOM%E6%A0%91"><span class="toc-number">3.5.2.</span> <span class="toc-text">生成DOM树</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E6%B8%B2%E6%9F%93%E6%A0%91"><span class="toc-number">3.5.3.</span> <span class="toc-text">生成渲染树</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%83%E5%B1%80-layout-%E9%87%8D%E6%8E%92-reflow"><span class="toc-number">3.5.4.</span> <span class="toc-text">布局 layout &#x2F; 重排 reflow</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%87%8D%E7%BB%98-repaint"><span class="toc-number">3.5.5.</span> <span class="toc-text">重绘 repaint</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E5%BC%82%E5%B8%B8"><span class="toc-number">3.6.</span> <span class="toc-text">6.异常</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%82%E5%B8%B8%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-number">3.6.1.</span> <span class="toc-text">异常的分类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8D%95%E8%8E%B7%E5%BC%82%E5%B8%B8"><span class="toc-number">3.6.2.</span> <span class="toc-text">捕获异常</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%8B%E5%8A%A8%E6%8A%9B%E5%87%BA%E5%BC%82%E5%B8%B8"><span class="toc-number">3.6.3.</span> <span class="toc-text">手动抛出异常</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0-1"><span class="toc-number">3.6.4.</span> <span class="toc-text">练习</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E6%96%AD%E7%82%B9%E8%B0%83%E8%AF%95"><span class="toc-number">3.7.</span> <span class="toc-text">7.断点调试</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>最近发布</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/09/09/JS%E6%94%B6%E5%AE%98-%E4%BA%8C/" title="JS收官(二)">JS收官(二)</a><time datetime="2024-09-09T08:46:01.685Z" title="发表于 2024-09-09 16:46:01">2024-09-09</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/09/03/JS%E6%94%B6%E5%AE%98-%E4%B8%80/" title="JS收官(一)">JS收官(一)</a><time datetime="2024-09-03T09:25:03.287Z" title="发表于 2024-09-03 17:25:03">2024-09-03</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/08/30/HTML-CSS%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/" title="HTML+CSS项目实战">HTML+CSS项目实战</a><time datetime="2024-08-30T02:24:05.724Z" title="发表于 2024-08-30 10:24:05">2024-08-30</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/08/29/HTML-CSS%E6%94%B6%E5%AE%98/" title="HTML+CSS收官">HTML+CSS收官</a><time datetime="2024-08-29T02:15:03.772Z" title="发表于 2024-08-29 10:15:03">2024-08-29</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/08/20/%E5%85%B3%E4%BA%8E%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%A0%81/" title="关于微信小程序码">关于微信小程序码</a><time datetime="2024-08-20T01:43:00.559Z" title="发表于 2024-08-20 09:43:00">2024-08-20</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div id="footer-bar-tips"><div class="copyright">&copy;2020 - 2024 By <a class="footer-bar-link" href="/" title="拾贰" target="_blank">拾贰</a></div></div><div id="footer-type-tips"></div></div><div class="footer-bar-right"><a class="footer-bar-link" target="_blank" rel="noopener" href="https://github.com/anzhiyu-c/hexo-theme-anzhiyu" title="主题">主题</a></div></div></div></footer></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">文章</div><div class="length-num">10</div></a><a href="/tags/" title="tag"><div class="headline">标签</div><div class="length-num">5</div></a><a href="/categories/" title="category"><div class="headline">分类</div><div class="length-num">3</div></a></div><span class="sidebar-menu-item-title">功能</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" href="javascript:void(0);" title="显示模式"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span>显示模式</span></a></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://blog.anheyu.com/" title="博客"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="博客"/><span class="back-menu-item-text">博客</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://image.anheyu.com/" title="安知鱼图床"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://image.anheyu.com/favicon.ico" alt="安知鱼图床"/><span class="back-menu-item-text">安知鱼图床</span></a></div></div></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> 音乐馆</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> 相册集</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li></ul></div></div><span class="sidebar-menu-item-title">标签</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/HTML-CSS/" style="font-size: 0.88rem;">HTML+CSS<sup>2</sup></a><a href="/tags/JavaScript/" style="font-size: 0.88rem;">JavaScript<sup>2</sup></a><a href="/tags/Uniapp/" style="font-size: 0.88rem;">Uniapp<sup>2</sup></a><a href="/tags/Vue/" style="font-size: 0.88rem;">Vue<sup>2</sup></a><a href="/tags/Webpack/" style="font-size: 0.88rem;">Webpack<sup>2</sup></a></div></div><hr/></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="nav-music"><a id="nav-music-hoverTips" onclick="anzhiyu.musicToggle()" accesskey="m">播放音乐</a><div id="console-music-bg"></div><meting-js id="8152976493" server="netease" type="playlist" mutex="true" preload="none" theme="var(--anzhiyu-main)" data-lrctype="0" order="random" volume="0.7"></meting-js></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://y.qq.com/n/ryqq/playlist/8802438608&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">关闭热评</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id="rightmenu-mask"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.umd.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://cdn.cbd.int/vanilla-lazyload@17.8.5/dist/lazyload.iife.min.js"></script><script src="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.js"></script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script>// 消除控制台打印
var HoldLog = console.log;
console.log = function () {};
let now1 = new Date();
queueMicrotask(() => {
  const Log = function () {
    HoldLog.apply(console, arguments);
  }; //在恢复前输出日志
  const grt = new Date("04/01/2021 00:00:00"); //此处修改你的建站时间或者网站上线时间
  now1.setTime(now1.getTime() + 250);
  const days = (now1 - grt) / 1000 / 60 / 60 / 24;
  const dnum = Math.floor(days);
  const ascll = [
    `欢迎使用安知鱼!`,
    `生活明朗, 万物可爱`,
    `
        
       █████╗ ███╗   ██╗███████╗██╗  ██╗██╗██╗   ██╗██╗   ██╗
      ██╔══██╗████╗  ██║╚══███╔╝██║  ██║██║╚██╗ ██╔╝██║   ██║
      ███████║██╔██╗ ██║  ███╔╝ ███████║██║ ╚████╔╝ ██║   ██║
      ██╔══██║██║╚██╗██║ ███╔╝  ██╔══██║██║  ╚██╔╝  ██║   ██║
      ██║  ██║██║ ╚████║███████╗██║  ██║██║   ██║   ╚██████╔╝
      ╚═╝  ╚═╝╚═╝  ╚═══╝╚══════╝╚═╝  ╚═╝╚═╝   ╚═╝    ╚═════╝
        
        `,
    "已上线",
    dnum,
    "天",
    "©2020 By 安知鱼 V1.6.12",
  ];
  const ascll2 = [`NCC2-036`, `调用前置摄像头拍照成功，识别为【小笨蛋】.`, `Photo captured: `, `🤪`];

  setTimeout(
    Log.bind(
      console,
      `\n%c${ascll[0]} %c ${ascll[1]} %c ${ascll[2]} %c${ascll[3]}%c ${ascll[4]}%c ${ascll[5]}\n\n%c ${ascll[6]}\n`,
      "color:#425AEF",
      "",
      "color:#425AEF",
      "color:#425AEF",
      "",
      "color:#425AEF",
      ""
    )
  );
  setTimeout(
    Log.bind(
      console,
      `%c ${ascll2[0]} %c ${ascll2[1]} %c \n${ascll2[2]} %c\n${ascll2[3]}\n`,
      "color:white; background-color:#4fd953",
      "",
      "",
      'background:url("https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/tinggge.gif") no-repeat;font-size:450%'
    )
  );

  setTimeout(Log.bind(console, "%c WELCOME %c 你好，小笨蛋.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(
      console,
      "%c ⚡ Powered by 安知鱼 %c 你正在访问 拾贰 的博客.",
      "color:white; background-color:#f0ad4e",
      ""
    )
  );

  setTimeout(Log.bind(console, "%c W23-12 %c 你已打开控制台.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(console, "%c S013-782 %c 你现在正处于监控中.", "color:white; background-color:#d9534f", "")
  );
});</script><script async src="/anzhiyu/random.js"></script><div class="js-pjax"><input type="hidden" name="page-type" id="page-type" value="post"></div><script>var visitorMail = "";
</script><script async data-pjax src="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://cdn.cbd.int/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]
var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  anzhiyu.removeGlobalFnEvent('pjax')
  anzhiyu.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script charset="UTF-8" src="https://cdn.cbd.int/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script></div><div id="popup-window"><div class="popup-window-title">通知</div><div class="popup-window-divider"></div><div class="popup-window-content"><div class="popup-tip">你好呀</div><div class="popup-link"><i class="anzhiyufont anzhiyu-icon-arrow-circle-right"></i></div></div></div></body></html>